<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Drop Dead V7.2</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #00d4ff;
            --primary-dark: #0099cc;
            --dark: #0f0f1a;
            --darker: #050510;
            --card-bg: #12121a;
            --card-hover: #1a1a2e;
            --border: #2a2a40;
            --text: #e6f7ff;
            --text-muted: #8899a6;
            --accent-pink: #ff6b9d;
            --accent-purple: #c77dff;
            --accent-orange: #ff9e00;
            --accent-blue: #4dabf7;
            --accent-yellow: #ffd43b;
            --accent-red: #ff6b6b;
            --accent-green: #00ff88;
            --gradient-1: linear-gradient(135deg, #00d4ff, #9d4edd);
            --gradient-2: linear-gradient(135deg, #ff6b9d, #c77dff);
            --glow-blue: 0 0 20px rgba(0, 212, 255, 0.4);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--darker);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .app-container {
            display: flex;
            height: 100vh;
        }

        .nav-container {
            width: 80px;
            background: var(--dark);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0;
            z-index: 100;
            flex-shrink: 0;
        }

        .nav-logo {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            cursor: pointer;
            transition: all 0.3s;
            overflow: hidden;
            border: 2px solid var(--primary);
            box-shadow: var(--glow-blue);
            background: var(--darker);
        }

        .nav-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }

        .nav-logo:hover { 
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.6);
        }

        .nav-list {
            list-style: none;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding: 0 12px;
        }

        .nav-item {
            width: 56px;
            height: 56px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
            position: relative;
        }

        .nav-item:hover, .nav-item.active {
            background: var(--card-bg);
            border-color: var(--primary);
            transform: translateX(4px);
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            left: -12px;
            width: 3px;
            height: 24px;
            background: var(--gradient-1);
            border-radius: 2px;
        }

        .nav-item i {
            font-size: 22px;
            color: var(--text-muted);
            transition: all 0.3s;
        }

        .nav-item.active i, .nav-item:hover i {
            color: var(--primary);
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        .nav-tooltip {
            position: absolute;
            left: 70px;
            background: var(--card-bg);
            padding: 8px 14px;
            border-radius: 8px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s;
            font-size: 12px;
            z-index: 200;
            border: 1px solid var(--border);
            transform: translateX(-10px);
        }

        .nav-item:hover .nav-tooltip {
            opacity: 1;
            transform: translateX(0);
        }

        .side-actions {
            margin-top: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding: 0 12px;
        }

        .side-action-btn {
            width: 56px;
            height: 56px;
            border-radius: 14px;
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .side-action-btn:hover {
            background: var(--card-bg);
            border-color: var(--accent-pink);
            color: var(--accent-pink);
            transform: rotate(180deg);
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .top-bar {
            height: 70px;
            background: rgba(15, 15, 26, 0.8);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            backdrop-filter: blur(20px);
            z-index: 50;
            flex-shrink: 0;
        }

        .search-box {
            display: flex;
            align-items: center;
            background: var(--darker);
            border-radius: 12px;
            padding: 12px 20px;
            width: 420px;
            border: 1px solid var(--border);
            transition: all 0.3s;
        }

        .search-box:focus-within {
            border-color: var(--primary);
            box-shadow: var(--glow-blue);
        }

        .search-box i {
            color: var(--text-muted);
            margin-right: 12px;
            font-size: 18px;
        }

        .search-box input {
            background: transparent;
            border: none;
            color: white;
            font-size: 14px;
            outline: none;
            width: 100%;
            font-family: 'Inter', sans-serif;
        }

        .search-box input::placeholder { color: var(--text-muted); }

        .top-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .api-status {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            font-size: 12px;
            color: var(--primary);
            font-weight: 600;
        }

        .top-btn {
            padding: 10px 24px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }

        .top-btn.primary {
            background: var(--gradient-1);
            color: white;
            box-shadow: var(--glow-blue);
        }

        .top-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }

        .top-btn.secondary {
            background: var(--card-bg);
            color: white;
            border: 1px solid var(--border);
        }

        .top-btn.secondary:hover {
            background: var(--card-hover);
            border-color: var(--accent-pink);
            color: var(--accent-pink);
        }

        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }

        .content-area::-webkit-scrollbar {
            width: 8px;
        }

        .content-area::-webkit-scrollbar-track {
            background: var(--darker);
        }

        .content-area::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        .content-area::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        .section-header {
            margin-bottom: 30px;
        }

        .section-header h2 {
            font-family: 'Orbitron', monospace;
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .section-header h2 i {
            color: var(--primary);
            -webkit-text-fill-color: var(--primary);
        }

        .version-badge {
            display: inline-block;
            background: rgba(0, 212, 255, 0.15);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 0.6rem 1.5rem;
            border-radius: 50px;
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            animation: pulse-glow 2s ease-in-out infinite alternate;
            font-weight: 700;
            letter-spacing: 1px;
        }

        @keyframes pulse-glow {
            from { box-shadow: 0 0 5px rgba(0, 212, 255, 0.2); }
            to { box-shadow: 0 0 20px rgba(0, 212, 255, 0.4), 0 0 40px rgba(157, 78, 221, 0.2); }
        }

        .updates {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.05), rgba(157, 78, 221, 0.05));
            border-left: 3px solid var(--primary);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0 16px 16px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 212, 255, 0.1);
            border-left-width: 3px;
        }

        .updates h3 {
            font-family: 'Orbitron', monospace;
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .update-item {
            color: var(--text-muted);
            margin: 0.6rem 0;
            font-size: 0.95rem;
            padding-left: 1.5rem;
            position: relative;
            transition: all 0.3s;
        }

        .update-item:hover {
            color: var(--text);
            transform: translateX(4px);
        }

        .update-item::before {
            content: '→';
            position: absolute;
            left: 0;
            color: var(--accent-purple);
            font-weight: bold;
        }

        .update-item.feature {
            color: var(--accent-pink);
            font-weight: 600;
        }

        .update-item.feature::before {
            content: '★';
            color: var(--accent-pink);
        }

        .category {
            margin-bottom: 3rem;
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .category-icon {
            width: 52px;
            height: 52px;
            background: var(--gradient-1);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: var(--glow-blue);
            animation: float-icon 3s ease-in-out infinite;
        }

        @keyframes float-icon {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .category h3 {
            font-family: 'Orbitron', monospace;
            font-size: 1.4rem;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .category-subtitle {
            color: var(--accent-pink);
            font-size: 0.9rem;
            margin-left: auto;
            font-style: italic;
            opacity: 0.9;
        }

        .link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }

        .link-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 1.25rem;
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            display: block;
        }

        .link-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-1);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 0;
        }

        .link-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
            box-shadow: var(--glow-blue);
        }

        .link-card:hover::before {
            opacity: 0.05;
        }

        .link-title {
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            z-index: 1;
        }

        .link-title i { color: var(--primary); }

        .link-url {
            color: var(--accent-blue);
            font-size: 0.8rem;
            word-break: break-all;
            opacity: 0.9;
            font-family: 'Courier New', monospace;
            position: relative;
            z-index: 1;
            margin-top: 0.25rem;
        }

        .link-card:hover .link-url {
            color: var(--primary);
            opacity: 1;
        }

        .link-note {
            color: var(--accent-pink);
            font-size: 0.8rem;
            margin-top: 0.5rem;
            font-style: italic;
            position: relative;
            z-index: 1;
        }

        .subcategory {
            color: var(--accent-yellow);
            margin: 2rem 0 1rem 0;
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            border-left: 3px solid var(--accent-yellow);
            padding-left: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .content-card {
            background: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid var(--border);
            position: relative;
        }

        .content-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: var(--accent-pink);
            box-shadow: 0 20px 40px rgba(255, 107, 157, 0.2);
        }

        .card-image {
            width: 100%;
            height: 260px;
            object-fit: cover;
            background: var(--border);
            transition: transform 0.3s;
        }

        .content-card:hover .card-image {
            transform: scale(1.05);
        }

        .card-badges {
            position: absolute;
            top: 12px;
            right: 12px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .card-badge {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-badge.rating {
            background: linear-gradient(135deg, #ffd43b, #ff9e00);
            color: #000;
        }

        .card-badge.bogge {
            background: linear-gradient(135deg, var(--primary), var(--accent-purple));
            color: white;
        }

        .card-info {
            padding: 16px;
            background: var(--card-bg);
            position: relative;
            z-index: 1;
        }

        .card-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-muted);
            font-size: 12px;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5, 5, 16, 0.98);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(20px);
        }

        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            width: 95%;
            max-width: 1400px;
            height: 90vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid var(--border);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
            position: relative;
        }

        .modal-header {
            padding: 20px 30px;
            background: var(--dark);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }

        .modal-title-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .modal-poster-thumb {
            width: 60px;
            height: 90px;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid var(--border);
        }

        .modal-poster-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-title-info h2 {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            background: linear-gradient(135deg, #fff, var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }

        .modal-meta {
            display: flex;
            gap: 15px;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .modal-close {
            width: 44px;
            height: 44px;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: var(--accent-red);
            border-color: var(--accent-red);
            transform: rotate(90deg);
        }

        .modal-body {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .player-container {
            flex: 1;
            background: #000;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .player-frame {
            flex: 1;
            width: 100%;
            border: none;
            background: #000;
        }

        .player-frame:fullscreen {
            width: 100vw;
            height: 100vh;
        }

        .player-controls {
            height: 60px;
            background: var(--dark);
            border-top: 1px solid var(--border);
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 15px;
        }

        .control-btn {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
        }

        .control-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .control-btn.active {
            background: var(--primary);
            color: var(--darker);
            border-color: var(--primary);
        }

        .player-status {
            margin-left: auto;
            color: var(--text-muted);
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .player-status::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .source-sidebar {
            width: 300px;
            background: var(--darker);
            border-left: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .source-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
        }

        .source-header h3 {
            font-family: 'Orbitron', monospace;
            color: var(--primary);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .source-list {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }

        .source-item {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .source-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background: var(--primary);
            transform: scaleY(0);
            transition: transform 0.3s;
        }

        .source-item:hover {
            border-color: var(--primary);
            transform: translateX(4px);
        }

        .source-item.active {
            border-color: var(--primary);
            background: rgba(0, 212, 255, 0.05);
        }

        .source-item.active::before {
            transform: scaleY(1);
        }

        .source-name {
            font-weight: 600;
            color: #fff;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .source-name i { color: var(--primary); }

        .source-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .source-warning {
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid rgba(255, 107, 107, 0.3);
            border-radius: 8px;
            padding: 10px;
            margin-top: 10px;
            font-size: 0.75rem;
            color: var(--accent-red);
        }

        .iframe-loader {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--primary);
            font-size: 48px;
            animation: spin 1s linear infinite;
            z-index: 10;
            display: none;
        }

        .iframe-loader.active {
            display: block;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .loading-container {
            grid-column: 1/-1;
            text-align: center;
            padding: 80px;
            color: var(--text-muted);
        }

        .loading-spinner {
            font-size: 48px;
            animation: spin 1s linear infinite;
            display: block;
            margin-bottom: 16px;
        }

        .error-container {
            grid-column: 1/-1;
            text-align: center;
            padding: 80px;
            color: var(--text-muted);
        }

        .error-icon {
            font-size: 56px;
            color: var(--accent-red);
            display: block;
            margin-bottom: 16px;
        }

        .search-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .search-info {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .search-info span {
            color: var(--primary);
            font-weight: 600;
        }

        .clear-search-btn {
            background: var(--card-bg);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
        }

        .clear-search-btn:hover {
            background: var(--accent-red);
            border-color: var(--accent-red);
            color: white;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.4;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--primary);
            border-radius: 50%;
            animation: float 15s infinite linear;
            box-shadow: 0 0 10px var(--primary);
        }

        @keyframes float {
            0% { transform: translateY(100vh) translateX(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) translateX(100px); opacity: 0; }
        }

        .text-muted { color: var(--text-muted); }
        .loading-sub {
            color: var(--text-muted);
            margin-top: 20px;
            font-size: 0.9rem;
            letter-spacing: 2px;
        }
        .section-desc {
            color: var(--text-muted);
            font-size: 1.1rem;
        }
        .cat-icon-white { color: white; }
        .cat-gradient-2 { background: var(--gradient-2); }
        .cat-gradient-orange-red {
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-red));
        }
        .cat-gradient-purple-pink {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
        }
        .accent-purple { color: var(--accent-purple); }
        .accent-pink { color: var(--accent-pink); }
        .accent-yellow { color: var(--accent-yellow); }
        .star-yellow { color: var(--accent-yellow); }
        .shield-green { color: var(--primary); }
        .btn-icon {
            margin-right: 6px;
        }

        /* Games Section Styles */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .game-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            color: inherit;
            display: block;
            position: relative;
        }

        .game-card:hover {
            transform: translateY(-6px) scale(1.02);
            border-color: var(--accent-green);
            box-shadow: 0 15px 30px rgba(0, 255, 136, 0.2);
        }

        .game-thumbnail {
            width: 100%;
            height: 150px;
            background: linear-gradient(135deg, var(--dark), var(--card-bg));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            position: relative;
            overflow: hidden;
        }

        .game-thumbnail i {
            color: var(--accent-green);
            z-index: 2;
        }

        .game-thumbnail::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .game-card:hover .game-thumbnail::before {
            opacity: 1;
        }

        .game-info {
            padding: 16px;
        }

        .game-title {
            font-weight: 600;
            color: #fff;
            margin-bottom: 6px;
            font-size: 1rem;
        }

        .game-category {
            color: var(--accent-green);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .game-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: var(--accent-yellow);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 10px;
            font-weight: 700;
            border: 1px solid rgba(255, 212, 59, 0.3);
        }

        .game-badge.popular {
            background: linear-gradient(135deg, var(--accent-pink), var(--accent-purple));
            color: white;
            border: none;
        }

        /* Settings Styles */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
        }

        .settings-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s;
        }

        .settings-card:hover {
            border-color: var(--primary);
            box-shadow: var(--glow-blue);
        }

        .settings-card h3 {
            font-family: 'Orbitron', monospace;
            color: var(--primary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.1rem;
        }

        .cloak-options {
            display: grid;
            gap: 12px;
        }

        .cloak-option {
            background: var(--darker);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .cloak-option:hover {
            border-color: var(--primary);
            transform: translateX(4px);
        }

        .cloak-option.active {
            border-color: var(--primary);
            background: rgba(0, 212, 255, 0.05);
        }

        .cloak-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .cloak-info h4 {
            color: #fff;
            margin-bottom: 2px;
            font-size: 0.95rem;
        }

        .cloak-info p {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
        }

        .theme-option {
            aspect-ratio: 1;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .theme-option:hover {
            transform: scale(1.05);
            border-color: var(--text-muted);
        }

        .theme-option.active {
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.4);
        }

        .theme-option.active::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .custom-cloak-input {
            width: 100%;
            background: var(--darker);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px;
            color: var(--text);
            font-family: 'Inter', sans-serif;
            margin-top: 12px;
        }

        .custom-cloak-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Secret Modal */
        .secret-modal-content {
            max-width: 600px;
            height: auto;
            text-align: center;
            padding: 40px;
        }

        .secret-heart {
            font-size: 80px;
            color: var(--accent-pink);
            animation: heartbeat 1.5s ease-in-out infinite;
            margin-bottom: 20px;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .secret-message {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            line-height: 1.8;
            color: var(--text);
            background: linear-gradient(135deg, var(--accent-pink), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            padding: 20px;
        }

        .secret-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            color: var(--accent-pink);
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(255, 107, 157, 0.5);
        }

        /* Download Modal Styles */
        .download-modal-content {
            max-width: 600px;
            height: auto;
            padding: 40px;
        }

        .download-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .download-header h2 {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            background: linear-gradient(135deg, #fff, var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .download-header p {
            color: var(--text-muted);
        }

        .download-options {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .download-option {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .download-option:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--glow-blue);
        }

        .download-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
        }

        .download-info h3 {
            font-family: 'Orbitron', monospace;
            color: #fff;
            margin-bottom: 4px;
            font-size: 1.1rem;
        }

        .download-info p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .download-note {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .download-note h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .download-note ul {
            list-style: none;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .download-note li {
            padding: 4px 0;
            padding-left: 20px;
            position: relative;
        }

        .download-note li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: var(--primary);
        }

        /* Music Player Styles */
        .music-player-container {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .music-player-header {
            background: linear-gradient(135deg, var(--accent-pink), var(--accent-purple));
            padding: 30px;
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .music-player-art {
            width: 200px;
            height: 200px;
            background: var(--darker);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            color: var(--accent-pink);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden;
        }

        .music-player-art img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .music-player-info {
            flex: 1;
        }

        .music-player-info h3 {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            margin-bottom: 10px;
            color: white;
        }

        .music-player-info p {
            color: rgba(255,255,255,0.8);
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .music-player-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .music-control-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            background: rgba(255,255,255,0.2);
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .music-control-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .music-control-btn.play {
            width: 80px;
            height: 80px;
            background: white;
            color: var(--accent-pink);
            font-size: 32px;
        }

        .music-control-btn.play:hover {
            transform: scale(1.15);
            box-shadow: 0 0 30px rgba(255,255,255,0.5);
        }

        .music-player-body {
            padding: 30px;
        }

        .music-search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }

        .music-search-input {
            flex: 1;
            background: var(--darker);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px 20px;
            color: var(--text);
            font-size: 16px;
            font-family: 'Inter', sans-serif;
        }

        .music-search-input:focus {
            outline: none;
            border-color: var(--accent-pink);
        }

        .music-search-btn {
            padding: 15px 30px;
            background: var(--gradient-2);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }

        .music-search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 107, 157, 0.3);
        }

        .music-playlist {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 400px;
            overflow-y: auto;
        }

        .music-track {
            background: var(--darker);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .music-track:hover {
            border-color: var(--accent-pink);
            transform: translateX(5px);
            background: var(--card-hover);
        }

        .music-track.active {
            border-color: var(--accent-pink);
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(199, 125, 255, 0.1));
        }

        .music-track-number {
            width: 40px;
            height: 40px;
            background: var(--card-bg);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            color: var(--accent-pink);
            font-weight: 700;
        }

        .music-track.active .music-track-number {
            background: var(--accent-pink);
            color: white;
        }

        .music-track-info {
            flex: 1;
        }

        .music-track-title {
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
        }

        .music-track-artist {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .music-track-duration {
            color: var(--text-muted);
            font-family: 'Orbitron', monospace;
        }

        .music-track-play {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--card-bg);
            border: 1px solid var(--border);
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.3s;
        }

        .music-track:hover .music-track-play {
            opacity: 1;
        }

        .music-track.active .music-track-play {
            opacity: 1;
            background: var(--accent-pink);
            color: white;
            border-color: var(--accent-pink);
        }

        .music-progress-container {
            margin: 20px 0;
        }

        .music-progress-bar {
            width: 100%;
            height: 6px;
            background: var(--darker);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
        }

        .music-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-pink), var(--accent-purple));
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s;
        }

        .music-progress-handle {
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            left: 0%;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            cursor: grab;
        }

        .music-time {
            display: flex;
            justify-content: space-between;
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-top: 8px;
            font-family: 'Orbitron', monospace;
        }

        .music-volume-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }

        .music-volume-slider {
            flex: 1;
            height: 6px;
            background: var(--darker);
            border-radius: 3px;
            cursor: pointer;
        }

        .music-volume-fill {
            height: 100%;
            background: var(--accent-pink);
            border-radius: 3px;
            width: 70%;
        }

        .hidden-youtube-player {
            position: absolute;
            width: 1px;
            height: 1px;
            opacity: 0;
            pointer-events: none;
        }

        @media (max-width: 1024px) {
            .modal-body {
                flex-direction: column;
            }
            .source-sidebar {
                width: 100%;
                height: 200px;
                border-left: none;
                border-top: 1px solid var(--border);
            }
            .source-list {
                display: flex;
                gap: 10px;
                overflow-x: auto;
            }
            .source-item {
                min-width: 200px;
                margin-bottom: 0;
            }
            .theme-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            .music-player-header {
                flex-direction: column;
                text-align: center;
            }
            .music-player-art {
                width: 150px;
                height: 150px;
            }
        }

        @media (max-width: 768px) {
            .nav-container { width: 70px; }
            .search-box { width: 200px; }
            .cards-grid { grid-template-columns: repeat(2, 1fr); gap: 16px; }
            .link-grid { grid-template-columns: 1fr; }
            .games-grid { grid-template-columns: repeat(2, 1fr); gap: 12px; }
            .modal-content { width: 100%; height: 100%; border-radius: 0; }
            .modal-header { padding: 15px 20px; }
            .modal-poster-thumb { display: none; }
            .theme-grid { grid-template-columns: repeat(3, 1fr); }
            .settings-grid { grid-template-columns: 1fr; }
            .music-player-info h3 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <div class="app-container" id="appContainer"> 
        <nav class="nav-container">
            <div class="nav-logo" id="navLogo" title="Drop Dead - Home">
                <img src="https://i.postimg.cc/7ZP9t1MP/drop-dead-3line-d-fixed.png" alt="Drop Dead Logo">
            </div>
            <ul class="nav-list" id="navList"></ul>
            <div class="side-actions">
                <button class="side-action-btn" id="downloadBtn" title="Download Offline Version">
                    <i class="ri-download-cloud-2-line"></i>
                </button>
            </div>
        </nav>

        <main class="main-content">
            <div class="top-bar">
                <div class="search-box">
                    <i class="ri-search-line"></i>
                    <input type="text" id="searchInput" placeholder="Search movies & TV shows...">
                </div>
                <div class="top-actions">
                    <div class="api-status" id="apiStatus">
                        <i class="ri-wifi-line"></i>
                        <span>Ready</span>
                    </div>
                    <button class="top-btn primary" id="moviesBtn">
                        <i class="ri-movie-2-line btn-icon"></i>Movies
                    </button>
                    <button class="top-btn primary" id="tvBtn">
                        <i class="ri-tv-line btn-icon"></i>TV Shows
                    </button>
                    <button class="top-btn secondary" id="sitesBtn">
                        <i class="ri-gamepad-line btn-icon"></i>Sites
                    </button>
                </div>
            </div>

            <div class="content-area" id="contentArea"></div>
        </main>
    </div>

    <!-- Movie/TV/Game Modal -->
    <div class="modal-overlay" id="movieModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title-section">
                    <div class="modal-poster-thumb" id="modalPosterThumb">
                        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Poster">
                    </div>
                    <div class="modal-title-info">
                        <h2 id="modalTitle">Title</h2>
                        <div class="modal-meta" id="modalMeta"></div>
                    </div>
                </div>
                <button class="modal-close" id="modalCloseBtn">
                    <i class="ri-close-line"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="player-container">
                    <iframe class="player-frame" id="playerFrame" allowfullscreen sandbox="allow-scripts allow-same-origin allow-presentation"></iframe>
                    <div class="iframe-loader" id="iframeLoader"><i class="ri-loader-4-line"></i></div>
                    <div class="player-controls">
                        <button class="control-btn" id="reloadBtn">
                            <i class="ri-refresh-line"></i> Reload
                        </button>
                        <button class="control-btn" id="fullscreenBtn">
                            <i class="ri-fullscreen-line"></i> Fullscreen
                        </button>
                        <button class="control-btn" id="newTabBtn">
                            <i class="ri-external-link-line"></i> Open in New Tab
                        </button>
                        <div class="player-status" id="playerStatus">
                            <span>Ready</span>
                        </div>
                    </div>
                </div>
                <div class="source-sidebar" id="sourceSidebar">
                    <div class="source-header">
                        <h3><i class="ri-list-radio"></i> Sources</h3>
                    </div>
                    <div class="source-list" id="sourceList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Download Modal -->
    <div class="modal-overlay" id="downloadModal">
        <div class="modal-content download-modal-content">
            <div class="modal-header">
                <div class="modal-title-section">
                    <div class="modal-title-info">
                        <h2>Download Drop Dead</h2>
                    </div>
                </div>
                <button class="modal-close" id="downloadCloseBtn">
                    <i class="ri-close-line"></i>
                </button>
            </div>
            <div class="download-header">
                <p>Get the offline version to bypass network restrictions</p>
            </div>
            <div class="download-options">
                <div class="download-option" id="autoDownloadBtn">
                    <div class="download-icon">
                        <i class="ri-download-cloud-line"></i>
                    </div>
                    <div class="download-info">
                        <h3>Auto Download Latest</h3>
                        <p>Download the HTML file directly from GoFile</p>
                    </div>
                </div>
                <div class="download-option" id="downloadHtmlBtn">
                    <div class="download-icon" style="background: var(--gradient-2);">
                        <i class="ri-html5-line"></i>
                    </div>
                    <div class="download-info">
                        <h3>Download Current Page</h3>
                        <p>Save this exact version as HTML file</p>
                    </div>
                </div>
            </div>
            <div class="download-note">
                <h4><i class="ri-information-line"></i> How to use offline:</h4>
                <ul>
                    <li>Download the HTML file to your device</li>
                    <li>Double-click to open in your browser</li>
                    <li>Works without internet connection for most features</li>
                    <li>Movies/TV shows still require internet for streaming</li>
                    <li>Keep the file on a USB drive for portable access</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Secret Modal for Rylee -->
    <div class="modal-overlay" id="secretModal">
        <div class="modal-content secret-modal-content">
            <div class="modal-header">
                <div class="modal-title-section">
                    <div class="modal-title-info">
                        <h2 style="font-family: 'Orbitron', monospace; color: var(--accent-pink);">💕 Secret Message 💕</h2>
                    </div>
                </div>
                <button class="modal-close" id="secretCloseBtn">
                    <i class="ri-close-line"></i>
                </button>
            </div>
            <div class="secret-heart">❤️</div>
            <div class="secret-title">For Rylee</div>
            <div class="secret-message">
                Rylee, as you know I love you and to show how much I love you I made this in here so please never leave me. Idk what else to say except always remember that I'll always want you to be happy and never want to leave you and you're the prettiest girl I've even met.
            </div>
        </div>
    </div>

    <!-- Hidden YouTube Player for Music -->
    <div id="youtubePlayerContainer" class="hidden-youtube-player"></div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // Prevent multiple initializations
        if (window.dropDeadInitialized) {
            throw new Error('Drop Dead already initialized');
        }
        window.dropDeadInitialized = true;

        const CONFIG = {
            TMDB_API_KEY: '149e0d8c7075146a68337f6c898f9b8b',
            TMDB_BASE_URL: 'https://api.themoviedb.org/3',
            TMDB_IMAGE_URL: 'https://image.tmdb.org/t/p',
            
            // Updated GoFile configuration - API changed in early 2026
            GOFILE_DOWNLOAD: {
                url: 'https://gofile.io/d/Uv4LT2',
                filename: 'DropDead_V7.2.html'
            },
            
            // Updated embed sources with working URLs as of 2025
            embedSources: [
                { 
                    name: 'VidSrc.to', 
                    type: 'direct', 
                    url: 'https://vidsrc.to/embed/',
                    icon: 'ri-movie-line',
                    description: 'Primary streaming source (vidsrc.to)'
                },
                { 
                    name: 'VidSrc.cc', 
                    type: 'direct', 
                    url: 'https://vidsrc.cc/v2/embed/',
                    icon: 'ri-clapperboard-line',
                    description: 'CC v2 Server (backup)'
                },
                { 
                    name: 'AutoEmbed', 
                    type: 'direct', 
                    url: 'https://player.autoembed.cc/embed/',
                    icon: 'ri-flashlight-line',
                    description: 'AutoEmbed - requires IMDB ID'
                },
                { 
                    name: 'VidLink Pro', 
                    type: 'direct', 
                    url: 'https://vidlink.pro/',
                    icon: 'ri-link',
                    description: 'Pro streaming'
                },
                { 
                    name: 'Vidora', 
                    type: 'direct', 
                    url: 'https://vidora.su/embed/',
                    icon: 'ri-movie-2-line',
                    description: 'Vidora stream'
                },
                { 
                    name: 'VidSrc.icu', 
                    type: 'direct', 
                    url: 'https://vidsrc.icu/embed/',
                    icon: 'ri-vidicon-line',
                    description: 'ICU streaming (backup)'
                }
            ],

            sections: [
                { id: 'home', name: 'Home', icon: 'ri-home-4-line' },
                { id: 'movies', name: 'Movies', icon: 'ri-movie-2-line' },
                { id: 'tv', name: 'TV Shows', icon: 'ri-tv-line' },
                { id: 'games', name: 'Games', icon: 'ri-gamepad-line' },
                { id: 'sites', name: 'Sites', icon: 'ri-links-line' },
                { id: 'music', name: 'Music', icon: 'ri-music-2-line' },
                { id: 'ai', name: 'AI 101', icon: 'ri-brain-line' },
                { id: 'settings', name: 'Settings', icon: 'ri-settings-3-line' }
            ],

            // Popular unblocked games organized by category
            games: [
                // Action Games
                { name: 'Subway Surfers', category: 'Action', icon: 'ri-train-line', url: 'https://poki.com/en/g/subway-surfers', popular: true },
                { name: 'Temple Run 2', category: 'Action', icon: 'ri-run-line', url: 'https://poki.com/en/g/temple-run-2' },
                { name: 'Stickman Hook', category: 'Action', icon: 'ri-links-line', url: 'https://poki.com/en/g/stickman-hook' },
                { name: 'Vex 7', category: 'Action', icon: 'ri-arrow-up-line', url: 'https://poki.com/en/g/vex-7' },
                { name: 'Moto X3M', category: 'Action', icon: 'ri-motorbike-line', url: 'https://poki.com/en/g/moto-x3m' },
                
                // Puzzle Games
                { name: '2048', category: 'Puzzle', icon: 'ri-grid-line', url: 'https://poki.com/en/g/2048', popular: true },
                { name: 'Cut the Rope', category: 'Puzzle', icon: 'ri-scissors-cut-line', url: 'https://poki.com/en/g/cut-the-rope' },
                { name: 'Tetris', category: 'Puzzle', icon: 'ri-square-line', url: 'https://tetris.com/play-tetris' },
                { name: 'Sudoku', category: 'Puzzle', icon: 'ri-number-9', url: 'https://sudoku.com/' },
                { name: 'Crossword', category: 'Puzzle', icon: 'ri-edit-line', url: 'https://www.nytimes.com/crosswords/game/mini' },
                
                // Racing Games
                { name: 'Drift Hunters', category: 'Racing', icon: 'ri-car-line', url: 'https://drift-hunters.com/', popular: true },
                { name: 'Smash Karts', category: 'Racing', icon: 'ri-taxi-line', url: 'https://smashkarts.io/' },
                { name: 'Madalin Stunt Cars 2', category: 'Racing', icon: 'ri-roadster-line', url: 'https://madalinstuntcars2.com/' },
                { name: 'Burnout Drift', category: 'Racing', icon: 'ri-fire-line', url: 'https://poki.com/en/g/burnout-drift' },
                
                // Sports Games
                { name: 'Basketball Stars', category: 'Sports', icon: 'ri-basketball-line', url: 'https://poki.com/en/g/basketball-stars', popular: true },
                { name: 'Soccer Skills', category: 'Sports', icon: 'ri-football-line', url: 'https://poki.com/en/g/soccer-skills-euro-cup' },
                { name: '8 Ball Pool', category: 'Sports', icon: 'ri-billiards-line', url: 'https://poki.com/en/g/8-ball-pool' },
                { name: 'Retro Bowl', category: 'Sports', icon: 'ri-football-line', url: 'https://retrobowl.me/' },
                
                // Multiplayer/IO Games
                { name: 'Agar.io', category: 'Multiplayer', icon: 'ri-circle-line', url: 'https://agar.io/', popular: true },
                { name: 'Slither.io', category: 'Multiplayer', icon: 'ri-snake-line', url: 'https://slither.io/' },
                { name: 'Krunker.io', category: 'Multiplayer', icon: 'ri-shooting-line', url: 'https://krunker.io/' },
                { name: 'Shell Shockers', category: 'Multiplayer', icon: 'ri-egg-line', url: 'https://shellshock.io/' },
                { name: 'Zombs Royale', category: 'Multiplayer', icon: 'ri-user-star-line', url: 'https://zombsroyale.io/' },
                
                // Strategy Games
                { name: 'Chess', category: 'Strategy', icon: 'ri-vip-crown-line', url: 'https://www.chess.com/play/computer', popular: true },
                { name: 'Bloons TD 6', category: 'Strategy', icon: 'ri-bubble-chart-line', url: 'https://ninjakiwi.com/Games/Tower-Defense/Bloons-TD-6.html' },
                { name: 'Clash Royale', category: 'Strategy', icon: 'ri-sword-line', url: 'https://clashroyale.com/' },
                { name: 'Paper.io 2', category: 'Strategy', icon: 'ri-file-paper-line', url: 'https://paper-io.com/' },
                
                // Arcade/Classic
                { name: 'Pac-Man', category: 'Arcade', icon: 'ri-emotion-happy-line', url: 'https://www.google.com/logos/2010/pacman10-i.html', popular: true },
                { name: 'Tetris', category: 'Arcade', icon: 'ri-apps-line', url: 'https://tetris.com/play-tetris' },
                { name: 'Snake', category: 'Arcade', icon: 'ri-snake-line', url: 'https://www.google.com/search?q=snake+game' },
                { name: 'Space Invaders', category: 'Arcade', icon: 'ri-space-ship-line', url: 'https://www.classicgame.com/space-invaders' },
                
                // Educational
                { name: 'Cool Math Games', category: 'Educational', icon: 'ri-calculator-line', url: 'https://www.coolmathgames.com/', popular: true },
                { name: 'Hooda Math', category: 'Educational', icon: 'ri-functions-line', url: 'https://www.hoodamath.com/' },
                { name: 'ABCya', category: 'Educational', icon: 'ri-abc-line', url: 'https://www.abcya.com/' },
                { name: 'Funbrain', category: 'Educational', icon: 'ri-brain-line', url: 'https://www.funbrain.com/' }
            ],

            // 30 Different Themes - Fixed gradient syntax errors
            themes: [
                { name: 'Cyberpunk', primary: '#00d4ff', dark: '#0f0f1a', darker: '#050510', card: '#12121a', border: '#2a2a40', gradient: 'linear-gradient(135deg, #00d4ff, #9d4edd)' },
                { name: 'Midnight', primary: '#6366f1', dark: '#0f172a', darker: '#020617', card: '#1e293b', border: '#334155', gradient: 'linear-gradient(135deg, #6366f1, #8b5cf6)' },
                { name: 'Sunset', primary: '#f97316', dark: '#2a0a0a', darker: '#1a0505', card: '#3d1515', border: '#5c2323', gradient: 'linear-gradient(135deg, #f97316, #ef4444)' },
                { name: 'Forest', primary: '#22c55e', dark: '#052e16', darker: '#022c22', card: '#064e3b', border: '#065f46', gradient: 'linear-gradient(135deg, #22c55e, #10b981)' },
                { name: 'Berry', primary: '#e879f9', dark: '#2e1065', darker: '#1e1b4b', card: '#4c1d95', border: '#6b21a8', gradient: 'linear-gradient(135deg, #e879f9, #c084fc)' },
                { name: 'Ocean', primary: '#0ea5e9', dark: '#0c4a6e', darker: '#082f49', card: '#075985', border: '#0369a1', gradient: 'linear-gradient(135deg, #0ea5e9, #06b6d4)' },
                { name: 'Lavender', primary: '#a78bfa', dark: '#2e1065', darker: '#1e1b4b', card: '#4338ca', border: '#5b21b6', gradient: 'linear-gradient(135deg, #a78bfa, #c084fc)' },
                { name: 'Crimson', primary: '#dc2626', dark: '#450a0a', darker: '#2a0505', card: '#7f1d1d', border: '#991b1b', gradient: 'linear-gradient(135deg, #dc2626, #b91c1c)' },
                { name: 'Golden', primary: '#fbbf24', dark: '#451a03', darker: '#2a1005', card: '#78350f', border: '#92400e', gradient: 'linear-gradient(135deg, #fbbf24, #f59e0b)' },
                { name: 'Mint', primary: '#34d399', dark: '#064e3b', darker: '#022c22', card: '#065f46', border: '#047857', gradient: 'linear-gradient(135deg, #34d399, #10b981)' },
                { name: 'Rose', primary: '#fb7185', dark: '#4c0519', darker: '#2a0510', card: '#881337', border: '#9f1239', gradient: 'linear-gradient(135deg, #fb7185, #f43f5e)' },
                { name: 'Slate', primary: '#94a3b8', dark: '#0f172a', darker: '#020617', card: '#1e293b', border: '#334155', gradient: 'linear-gradient(135deg, #94a3b8, #64748b)' },
                { name: 'Neon', primary: '#ccff00', dark: '#0a0a0a', darker: '#050505', card: '#141414', border: '#262626', gradient: 'linear-gradient(135deg, #ccff00, #00ff88)' },
                { name: 'Coral', primary: '#ff6b6b', dark: '#4a0e0e', darker: '#2d0505', card: '#7c2d12', border: '#9a3412', gradient: 'linear-gradient(135deg, #ff6b6b, #ff8e53)' },
                { name: 'Arctic', primary: '#67e8f9', dark: '#083344', darker: '#042f2e', card: '#0e7490', border: '#155e75', gradient: 'linear-gradient(135deg, #67e8f9, #22d3ee)' },
                { name: 'Grape', primary: '#a855f7', dark: '#3b0764', darker: '#2e1065', card: '#581c87', border: '#6b21a8', gradient: 'linear-gradient(135deg, #a855f7, #c084fc)' },
                { name: 'Pumpkin', primary: '#fb923c', dark: '#431407', darker: '#2a0905', card: '#9a3412', border: '#c2410c', gradient: 'linear-gradient(135deg, #fb923c, #f97316)' },
                { name: 'Cherry', primary: '#f43f5e', dark: '#4c0519', darker: '#2a0510', card: '#9f1239', border: '#be123c', gradient: 'linear-gradient(135deg, #f43f5e, #e11d48)' },
                { name: 'Teal', primary: '#14b8a6', dark: '#042f2e', darker: '#022c22', card: '#115e59', border: '#134e4a', gradient: 'linear-gradient(135deg, #14b8a6, #06b6d4)' },
                { name: 'Lemon', primary: '#facc15', dark: '#422006', darker: '#281003', card: '#854d0e', border: '#a16207', gradient: 'linear-gradient(135deg, #facc15, #eab308)' },
                { name: 'Bubblegum', primary: '#ff6b9d', dark: '#4a0e2e', darker: '#2d0518', card: '#831843', border: '#9d174d', gradient: 'linear-gradient(135deg, #ff6b9d, #c77dff)' },
                { name: 'Smoke', primary: '#9ca3af', dark: '#111827', darker: '#030712', card: '#1f2937', border: '#374151', gradient: 'linear-gradient(135deg, #9ca3af, #6b7280)' },
                { name: 'Blood', primary: '#ef4444', dark: '#450a0a', darker: '#2a0505', card: '#7f1d1d', border: '#991b1b', gradient: 'linear-gradient(135deg, #ef4444, #b91c1c)' },
                { name: 'Slime', primary: '#84cc16', dark: '#1a2e05', darker: '#0f1a03', card: '#365314', border: '#3f6212', gradient: 'linear-gradient(135deg, #84cc16, #65a30d)' },
                { name: 'Vaporwave', primary: '#ff00ff', dark: '#1a0a2e', darker: '#0d0518', card: '#2d1b4e', border: '#4c1d95', gradient: 'linear-gradient(135deg, #ff00ff, #00ffff)' },
                { name: 'Coffee', primary: '#a97142', dark: '#2a1810', darker: '#1a0f0a', card: '#451a03', border: '#78350f', gradient: 'linear-gradient(135deg, #a97142, #92400e)' },
                { name: 'Rainbow', primary: '#ff0000', dark: '#1a1a1a', darker: '#0d0d0d', card: '#2d2d2d', border: '#404040', gradient: 'linear-gradient(135deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)' },
                { name: 'Matrix', primary: '#00ff41', dark: '#0d0208', darker: '#050105', card: '#003b00', border: '#008f11', gradient: 'linear-gradient(135deg, #00ff41, #008f11)' },
                { name: 'Peach', primary: '#fda4af', dark: '#4c0519', darker: '#2a0510', card: '#9f1239', border: '#be123c', gradient: 'linear-gradient(135deg, #fda4af, #f472b6)' },
                { name: 'Void', primary: '#ffffff', dark: '#000000', darker: '#000000', card: '#0a0a0a', border: '#1a1a1a', gradient: 'linear-gradient(135deg, #ffffff, #808080)' }
            ],

            // Tab Cloak Options
            cloaks: {
                default: { title: 'Drop Dead V7.2', icon: 'https://i.postimg.cc/7ZP9t1MP/drop-dead-3line-d-fixed.png' },
                classroom: { title: 'Google Classroom', icon: 'https://ssl.gstatic.com/classroom/ic_product_classroom_32.png' },
                google: { title: 'Google', icon: 'https://www.google.com/favicon.ico' },
                youtube: { title: 'YouTube', icon: 'https://www.youtube.com/s/desktop/28b67e7f/img/favicon.ico' }
            },

            // Music data - YouTube video IDs for popular songs
            musicPlaylist: [
                { title: "Heartless", artist: "Kanye West", id: "Co0tDuPveMc", duration: "3:31" },
                { title: "Stronger", artist: "Kanye West", id: "PsO6ZnUZI0g", duration: "4:04" },
                { title: "Power", artist: "Kanye West", id: "L53gjP-TtGE", duration: "4:52" },
                { title: "Gold Digger", artist: "Kanye West ft. Jamie Foxx", id: "6vwNcNOTVzY", duration: "3:28" },
                { title: "Runaway", artist: "Kanye West", id: "VhEoCOWUtcU", duration: "9:24" },
                { title: "Bound 2", artist: "Kanye West", id: "BBAtAM7vtgc", duration: "4:14" },
                { title: "Ni**as in Paris", artist: "Jay-Z & Kanye West", id: "gG_dA32oH44", duration: "4:12" },
                { title: "Flashing Lights", artist: "Kanye West", id: "ila-hAUXR5U", duration: "4:28" },
                { title: "All of the Lights", artist: "Kanye West", id: "HAfFfqiYLp0", duration: "5:28" },
                { title: "Good Life", artist: "Kanye West ft. T-Pain", id: "FEKEjpTzB0k", duration: "3:50" },
                { title: "See You Again", artist: "Tyler, The Creator", id: "i4kfkhkqMPw", duration: "3:00" },
                { title: "EARFQUAKE", artist: "Tyler, The Creator", id: "HmAsUQNHVlY", duration: "3:10" },
                { title: "Yonkers", artist: "Tyler, The Creator", id: "XSbZidsgMfw", duration: "4:09" },
                { title: "Tamale", artist: "Tyler, The Creator", id: "wVwQ5q3zT0o", duration: "3:32" },
                { title: "Who Dat Boy", artist: "Tyler, The Creator", id: "FUXX55WqYZs", duration: "3:25" },
                { title: "Igor's Theme", artist: "Tyler, The Creator", id: "9JQDPjpfiGw", duration: "3:20" },
                { title: "New Magic Wand", artist: "Tyler, The Creator", id: "2w8KUgIkAuY", duration: "3:15" },
                { title: "A Boy is a Gun*", artist: "Tyler, The Creator", id: "9JQDPjpfiGw", duration: "3:30" },
                { title: "Lumberjack", artist: "Tyler, The Creator", id: "R4Y7JIQlv20", duration: "2:18" },
                { title: "WUSYANAME", artist: "Tyler, The Creator", id: "N2Y2vFQ--1w", duration: "2:01" }
            ]
        };

        let currentItems = [];
        let currentSection = 'home';
        let currentItem = null;
        let currentSourceIndex = 0;
        let isSearchResults = false;
        let lastSearchQuery = '';
        let currentType = 'movie';
        let currentTheme = 0;
        let currentCloak = 'default';
        let customCloakTitle = '';
        let customCloakIcon = '';
        let secretBuffer = '';
        let currentGame = null;
        let currentSite = null;
        
        // Music player state
        let youtubePlayer = null;
        let currentTrackIndex = 0;
        let isPlaying = false;
        let currentPlaylist = [];

        document.addEventListener('DOMContentLoaded', function() {
            initNav();
            initParticles();
            initEventListeners();
            initSecretListener();
            loadSavedSettings();
            showSection('home');
            initMusicPlayer();
        });

        // YouTube API callback
        function onYouTubeIframeAPIReady() {
            youtubePlayer = new YT.Player('youtubePlayerContainer', {
                height: '1',
                width: '1',
                playerVars: {
                    autoplay: 0,
                    controls: 0,
                    disablekb: 1,
                    fs: 0,
                    modestbranding: 1,
                    rel: 0,
                    showinfo: 0
                },
                events: {
                    onReady: onPlayerReady,
                    onStateChange: onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            console.log('YouTube Player Ready');
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.ENDED) {
                playNextTrack();
            }
            updatePlayButton();
        }

        function initMusicPlayer() {
            currentPlaylist = [...CONFIG.musicPlaylist];
        }

        function updatePlayButton() {
            const playBtn = document.querySelector('.music-control-btn.play i');
            if (playBtn) {
                playBtn.className = isPlaying ? 'ri-pause-fill' : 'ri-play-fill';
            }
        }

        function togglePlay() {
            if (!youtubePlayer || !youtubePlayer.playVideo) return;
            
            if (isPlaying) {
                youtubePlayer.pauseVideo();
                isPlaying = false;
            } else {
                youtubePlayer.playVideo();
                isPlaying = true;
            }
            updatePlayButton();
        }

        function playTrack(index) {
            if (!youtubePlayer || !youtubePlayer.loadVideoById) return;
            
            currentTrackIndex = index;
            const track = currentPlaylist[index];
            youtubePlayer.loadVideoById(track.id);
            isPlaying = true;
            updatePlayButton();
            updateMusicUI();
        }

        function playNextTrack() {
            currentTrackIndex = (currentTrackIndex + 1) % currentPlaylist.length;
            playTrack(currentTrackIndex);
        }

        function playPrevTrack() {
            currentTrackIndex = (currentTrackIndex - 1 + currentPlaylist.length) % currentPlaylist.length;
            playTrack(currentTrackIndex);
        }

        function updateMusicUI() {
            // Update track list highlighting
            document.querySelectorAll('.music-track').forEach((track, index) => {
                track.classList.toggle('active', index === currentTrackIndex);
            });
            
            // Update player info
            const currentTrack = currentPlaylist[currentTrackIndex];
            const titleEl = document.querySelector('.music-player-info h3');
            const artistEl = document.querySelector('.music-player-info p');
            if (titleEl && artistEl && currentTrack) {
                titleEl.textContent = currentTrack.title;
                artistEl.textContent = currentTrack.artist;
            }
        }

        function searchMusic(query) {
            if (!query.trim()) {
                currentPlaylist = [...CONFIG.musicPlaylist];
            } else {
                const lowerQuery = query.toLowerCase();
                currentPlaylist = CONFIG.musicPlaylist.filter(track => 
                    track.title.toLowerCase().includes(lowerQuery) || 
                    track.artist.toLowerCase().includes(lowerQuery)
                );
            }
            renderMusicPlaylist();
        }

        function initSecretListener() {
            document.addEventListener('keydown', function(e) {
                secretBuffer += e.key.toLowerCase();
                if (secretBuffer.length > 5) {
                    secretBuffer = secretBuffer.slice(-5);
                }
                if (secretBuffer === 'rylee') {
                    openSecretModal();
                    secretBuffer = '';
                }
            });
        }

        function openSecretModal() {
            document.getElementById('secretModal').classList.add('active');
        }

        function closeSecretModal() {
            document.getElementById('secretModal').classList.remove('active');
        }

        function initEventListeners() {
            document.getElementById('navLogo').addEventListener('click', function() { showSection('home'); });
            document.getElementById('moviesBtn').addEventListener('click', function() { showSection('movies'); });
            document.getElementById('tvBtn').addEventListener('click', function() { showSection('tv'); });
            document.getElementById('sitesBtn').addEventListener('click', function() { showSection('sites'); });
            document.getElementById('modalCloseBtn').addEventListener('click', closeModal);
            document.getElementById('reloadBtn').addEventListener('click', reloadPlayer);
            document.getElementById('fullscreenBtn').addEventListener('click', toggleFullscreen);
            document.getElementById('newTabBtn').addEventListener('click', openInNewTab);
            
            document.getElementById('searchInput').addEventListener('keypress', handleSearch);
            
            document.getElementById('movieModal').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                    closeDownloadModal();
                    closeSecretModal();
                }
            });

            // Download modal listeners
            document.getElementById('downloadBtn').addEventListener('click', openDownloadModal);
            document.getElementById('downloadCloseBtn').addEventListener('click', closeDownloadModal);
            document.getElementById('downloadModal').addEventListener('click', function(e) {
                if (e.target === this) closeDownloadModal();
            });
            document.getElementById('autoDownloadBtn').addEventListener('click', autoDownloadFromGoFile);
            document.getElementById('downloadHtmlBtn').addEventListener('click', downloadCurrentPage);
            
            // Secret modal close
            document.getElementById('secretCloseBtn').addEventListener('click', closeSecretModal);
            document.getElementById('secretModal').addEventListener('click', function(e) {
                if (e.target === this) closeSecretModal();
            });
        }

        function initNav() {
            var navList = document.getElementById('navList');
            CONFIG.sections.forEach(function(section) {
                var li = document.createElement('li');
                li.className = 'nav-item';
                li.dataset.section = section.id;
                li.addEventListener('click', function() { showSection(section.id); });
                li.innerHTML = '<i class="' + section.icon + '"></i><span class="nav-tooltip">' + section.name + '</span>';
                navList.appendChild(li);
            });
        }

        function initParticles() {
            var container = document.getElementById('particles');
            for (var i = 0; i < 40; i++) {
                var p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDelay = Math.random() * 15 + 's';
                p.style.animationDuration = (10 + Math.random() * 10) + 's';
                container.appendChild(p);
            }
        }

        function loadSavedSettings() {
            var savedTheme = localStorage.getItem('dropdead_theme');
            var savedCloak = localStorage.getItem('dropdead_cloak');
            var savedCustomTitle = localStorage.getItem('dropdead_custom_title');
            var savedCustomIcon = localStorage.getItem('dropdead_custom_icon');
            
            if (savedTheme !== null) {
                currentTheme = parseInt(savedTheme);
                applyTheme(currentTheme);
            }
            if (savedCloak !== null) {
                currentCloak = savedCloak;
                if (savedCustomTitle) customCloakTitle = savedCustomTitle;
                if (savedCustomIcon) customCloakIcon = savedCustomIcon;
                applyCloak(currentCloak);
            }
        }

        function saveSettings() {
            localStorage.setItem('dropdead_theme', currentTheme);
            localStorage.setItem('dropdead_cloak', currentCloak);
            localStorage.setItem('dropdead_custom_title', customCloakTitle);
            localStorage.setItem('dropdead_custom_icon', customCloakIcon);
        }

        function showSection(sectionId) {
            currentSection = sectionId;
            isSearchResults = false;
            lastSearchQuery = '';
            document.querySelectorAll('.nav-item').forEach(function(item) {
                item.classList.toggle('active', item.dataset.section === sectionId);
            });

            var container = document.getElementById('contentArea');
            
            switch(sectionId) {
                case 'home':
                    renderHome(container);
                    break;
                case 'movies':
                    currentType = 'movie';
                    renderMovies(container);
                    break;
                case 'tv':
                    currentType = 'tv';
                    renderTVShows(container);
                    break;
                case 'games':
                    renderGames(container);
                    break;
                case 'sites':
                    renderSites(container);
                    break;
                case 'music':
                    renderMusic(container);
                    break;
                case 'ai':
                    renderAI(container);
                    break;
                case 'settings':
                    renderSettings(container);
                    break;
            }
        }

        function applyTheme(themeIndex) {
            var theme = CONFIG.themes[themeIndex];
            var root = document.documentElement;
            
            root.style.setProperty('--primary', theme.primary);
            root.style.setProperty('--dark', theme.dark);
            root.style.setProperty('--darker', theme.darker);
            root.style.setProperty('--card-bg', theme.card);
            root.style.setProperty('--border', theme.border);
            root.style.setProperty('--gradient-1', theme.gradient);
            
            // Update particles color
            document.querySelectorAll('.particle').forEach(function(p) {
                p.style.background = theme.primary;
                p.style.boxShadow = '0 0 10px ' + theme.primary;
            });
            
            saveSettings();
        }

        function applyCloak(cloakType) {
            var cloak = CONFIG.cloaks[cloakType];
            
            if (cloakType === 'custom' && customCloakTitle) {
                document.title = customCloakTitle;
                if (customCloakIcon) {
                    updateFavicon(customCloakIcon);
                }
            } else if (cloak) {
                document.title = cloak.title;
                updateFavicon(cloak.icon);
            }
            
            currentCloak = cloakType;
            saveSettings();
        }

        function updateFavicon(url) {
            var existing = document.querySelector('link[rel="icon"]');
            if (existing) existing.remove();
            
            var link = document.createElement('link');
            link.rel = 'icon';
            link.href = url;
            document.head.appendChild(link);
        }

        function renderSettings(container) {
            var html = 
                '<div class="section-header">' +
                    '<h2><i class="ri-settings-3-line"></i> Settings</h2>' +
                    '<p class="section-desc">Customize your Drop Dead experience.</p>' +
                '</div>' +
                '<div class="settings-grid">' +
                    '<div class="settings-card">' +
                        '<h3><i class="ri-eye-line"></i> Tab Cloak</h3>' +
                        '<div class="cloak-options">' +
                            '<div class="cloak-option ' + (currentCloak === 'default' ? 'active' : '') + '" data-cloak="default">' +
                                '<div class="cloak-icon" style="background: var(--gradient-1);"><i class="ri-skull-line" style="color: white;"></i></div>' +
                                '<div class="cloak-info">' +
                                    '<h4>Default</h4>' +
                                    '<p>Drop Dead V7.2</p>' +
                                '</div>' +
                            '</div>' +
                            '<div class="cloak-option ' + (currentCloak === 'classroom' ? 'active' : '') + '" data-cloak="classroom">' +
                                '<div class="cloak-icon" style="background: #25c281;"><i class="ri-google-fill" style="color: white;"></i></div>' +
                                '<div class="cloak-info">' +
                                    '<h4>Google Classroom</h4>' +
                                    '<p>Looks like Google Classroom</p>' +
                                '</div>' +
                            '</div>' +
                            '<div class="cloak-option ' + (currentCloak === 'google' ? 'active' : '') + '" data-cloak="google">' +
                                '<div class="cloak-icon" style="background: #4285f4;"><i class="ri-google-fill" style="color: white;"></i></div>' +
                                '<div class="cloak-info">' +
                                    '<h4>Google</h4>' +
                                    '<p>Looks like Google Search</p>' +
                                '</div>' +
                            '</div>' +
                            '<div class="cloak-option ' + (currentCloak === 'youtube' ? 'active' : '') + '" data-cloak="youtube">' +
                                '<div class="cloak-icon" style="background: #ff0000;"><i class="ri-youtube-fill" style="color: white;"></i></div>' +
                                '<div class="cloak-info">' +
                                    '<h4>YouTube</h4>' +
                                    '<p>Looks like YouTube</p>' +
                                '</div>' +
                            '</div>' +
                            '<div class="cloak-option ' + (currentCloak === 'custom' ? 'active' : '') + '" data-cloak="custom">' +
                                '<div class="cloak-icon" style="background: var(--accent-purple);"><i class="ri-edit-line" style="color: white;"></i></div>' +
                                '<div class="cloak-info">' +
                                    '<h4>Custom</h4>' +
                                    '<p>Set your own title and icon</p>' +
                                '</div>' +
                            '</div>' +
                        '</div>' +
                        '<div id="customCloakInputs" style="display: ' + (currentCloak === 'custom' ? 'block' : 'none') + '; margin-top: 16px;">' +
                            '<input type="text" class="custom-cloak-input" id="customTitleInput" placeholder="Tab Title" value="' + (customCloakTitle || '') + '">' +
                            '<input type="text" class="custom-cloak-input" id="customIconInput" placeholder="Icon URL (favicon)" value="' + (customCloakIcon || '') + '" style="margin-top: 8px;">' +
                            '<button class="top-btn primary" id="applyCustomCloak" style="margin-top: 12px; width: 100%;">Apply Custom Cloak</button>' +
                        '</div>' +
                    '</div>' +
                    '<div class="settings-card" style="grid-column: span 2;">' +
                        '<h3><i class="ri-palette-line"></i> Themes (' + CONFIG.themes.length + ' available)</h3>' +
                        '<div class="theme-grid">' +
                            renderThemeOptions() +
                        '</div>' +
                    '</div>' +
                '</div>';
            
            container.innerHTML = html;
            
            // Add event listeners
            container.querySelectorAll('.cloak-option').forEach(function(opt) {
                opt.addEventListener('click', function() {
                    var cloakType = this.dataset.cloak;
                    document.querySelectorAll('.cloak-option').forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    
                    var customInputs = document.getElementById('customCloakInputs');
                    if (cloakType === 'custom') {
                        customInputs.style.display = 'block';
                    } else {
                        customInputs.style.display = 'none';
                        applyCloak(cloakType);
                    }
                });
            });
            
            document.getElementById('applyCustomCloak').addEventListener('click', function() {
                customCloakTitle = document.getElementById('customTitleInput').value;
                customCloakIcon = document.getElementById('customIconInput').value;
                applyCloak('custom');
            });
            
            container.querySelectorAll('.theme-option').forEach(function(opt) {
                opt.addEventListener('click', function() {
                    var themeIndex = parseInt(this.dataset.theme);
                    document.querySelectorAll('.theme-option').forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    currentTheme = themeIndex;
                    applyTheme(themeIndex);
                });
            });
        }

        function renderThemeOptions() {
            var html = '';
            for (var i = 0; i < CONFIG.themes.length; i++) {
                var theme = CONFIG.themes[i];
                html += '<div class="theme-option ' + (i === currentTheme ? 'active' : '') + '" data-theme="' + i + '" style="background: ' + theme.gradient + '" title="' + theme.name + '"></div>';
            }
            return html;
        }

        function renderHome(container) {
            container.innerHTML = 
                '<div class="section-header">' +
                    '<div class="version-badge">Drop Dead V7.2</div>' +
                    '<h2><i class="ri-home-4-line"></i> Welcome to Drop Dead</h2>' +
                    '<p class="section-desc">Made by a person for people for some reason while watching family guy.</p>' +
                '</div>' +
                '<div class="updates">' +
                    '<h3><i class="ri-flashlight-line"></i>Latest Updates</h3>' +
                    '<div class="update-item feature">NEW: Integrated Music Player (Not Working RN)</div>' +
                    '<div class="update-item feature">NEW: Known sites now open in new tabs (no iframe)</div>' +
                    '<div class="update-item feature">NEW: Unknown sites still use stealth iframe mode</div>' +
                    '<div class="update-item feature">NEW: Games now open in Cinema Mode with iframe!</div>' +
                    '<div class="update-item feature">NEW: Sites open in about:blank for stealth!</div>' +
                    '<div class="update-item feature">Added Games section with popular unblocked games!</div>' +
                    '<div class="update-item feature">Fixed: Fullscreen button now fullscreen the iframe properly</div>' +
                    '<div class="update-item feature">Fixed: AutoEmbed API updated to player.autoembed.cc</div>' +
                    '<div class="update-item feature">Fixed: GoFile download (opens in new tab due to API changes)</div>' +
                    '<div class="update-item feature">Fixed: Theme gradient syntax errors</div>' +
                    '<div class="update-item feature">Fixed: VidSrc sources updated to working domains</div>' +
                    '<div class="update-item">Security: Added sandbox attributes to iframes</div>' +
                    '<div class="update-item">Originally named ByteMePlz</div>' +
                    '<div class="update-item">V7.2: Added Settings with Tab Cloak & 30 Themes!</div>' +
                    '<div class="update-item">V7.2: Added secret message feature</div>' +
                    '<div class="update-item">V7.1: Added TV Shows tab & Auto Download feature</div>' +
                    '<div class="update-item">V7.1: Added more Sites and removed the blocked</div>' +
                    '<div class="update-item">V7: Fixed the sometimes not opening</div>' +
                    '<div class="update-item">V6.1: Updated movie sources - 6 providers</div>' +
                    '<div class="update-item">V6: Cinema Mode with integrated player</div>' +
                    '<div class="update-item">V5: Added Bogge.tv search integration</div>' +
                    '<div class="update-item">V4: Added more unknown sites</div>' +
                    '<div class="update-item">V3: Added AI cheating 101</div>' +
                    '<div class="update-item">V2: Added movies and music</div>' +
                    '<div class="update-item">V1: Added known and unknown site</div>' +
                '</div>' +
                '<div class="category">' +
                    '<div class="category-header">' +
                        '<div class="category-icon"><i class="ri-rocket-line cat-icon-white"></i></div>' +
                        '<h3>Quick Access</h3>' +
                    '</div>' +
                    '<div class="link-grid">' +
                        '<div class="link-card nav-to-movies">' +
                            '<div class="link-title"><i class="ri-movie-2-line"></i> Movies</div>' +
                            '<div class="link-url">Cinema Mode Enabled</div>' +
                            '<div class="link-note">Watch with 6 streaming sources</div>' +
                        '</div>' +
                        '<div class="link-card nav-to-tv">' +
                            '<div class="link-title"><i class="ri-tv-line accent-purple"></i> TV Shows</div>' +
                            '<div class="link-url">Binge-watch series</div>' +
                            '<div class="link-note">Popular shows & seasons</div>' +
                        '</div>' +
                        '<div class="link-card nav-to-games">' +
                            '<div class="link-title"><i class="ri-gamepad-line accent-green"></i> Games</div>' +
                            '<div class="link-url">Play unblocked games</div>' +
                            '<div class="link-note">Action, puzzle, racing & more</div>' +
                        '</div>' +
                        '<div class="link-card nav-to-sites">' +
                            '<div class="link-title"><i class="ri-links-line"></i> Game Sites</div>' +
                            '<div class="link-url">All known and unknown sites</div>' +
                            '<div class="link-note">Curated collection of working proxies</div>' +
                        '</div>' +
                        '<div class="link-card nav-to-music">' +
                            '<div class="link-title"><i class="ri-music-2-line accent-pink"></i> Music</div>' +
                            '<div class="link-url">Built-in music player</div>' +
                            '<div class="link-note">Kanye West & Tyler, The Creator</div>' +
                        '</div>' +
                        '<div class="link-card nav-to-ai">' +
                            '<div class="link-title"><i class="ri-brain-line accent-green"></i> AI 101</div>' +
                            '<div class="link-url">AI tools & humanizers</div>' +
                            '<div class="link-note">For educational purposes</div>' +
                        '</div>' +
                        '<div class="link-card nav-to-settings">' +
                            '<div class="link-title"><i class="ri-settings-3-line accent-yellow"></i> Settings</div>' +
                            '<div class="link-url">Tab cloak & themes</div>' +
                            '<div class="link-note">Customize your experience</div>' +
                        '</div>' +
                    '</div>' +
                '</div>' +
                '<div class="category">' +
                    '<div class="category-header">' +
                        '<div class="category-icon cat-gradient-2"><i class="ri-sparkling-line cat-icon-white"></i></div>' +
                        '<h3>Drop Dead Features</h3>' +
                    '</div>' +
                    '<div class="link-grid">' +
                        '<div class="link-card">' +
                            '<div class="link-title"><i class="ri-tv-line accent-purple"></i> Cinema Mode</div>' +
                            '<div class="link-url">Integrated iframe player</div>' +
                            '<div class="link-note">No more popups, watch inline</div>' +
                        '</div>' +
                        '<div class="link-card">' +
                            '<div class="link-title"><i class="ri-switch-line accent-yellow"></i> Multi-Source</div>' +
                            '<div class="link-url">6 streaming options</div>' +
                            '<div class="link-note">Switch sources without closing</div>' +
                        '</div>' +
                        '<div class="link-card">' +
                            '<div class="link-title"><i class="ri-eye-off-line accent-pink"></i> Tab Cloak</div>' +
                            '<div class="link-url">Hide from teachers/parents</div>' +
                            '<div class="link-note">Looks like Google Classroom</div>' +
                        '</div>' +
                        '<div class="link-card">' +
                            '<div class="link-title"><i class="ri-palette-line accent-green"></i> 30 Themes</div>' +
                            '<div class="link-url">Customize colors</div>' +
                            '<div class="link-note">Make it yours</div>' +
                        '</div>' +
                    '</div>' +
                '</div>';
            
            container.querySelector('.nav-to-movies').addEventListener('click', function() { showSection('movies'); });
            container.querySelector('.nav-to-tv').addEventListener('click', function() { showSection('tv'); });
            container.querySelector('.nav-to-games').addEventListener('click', function() { showSection('games'); });
            container.querySelector('.nav-to-sites').addEventListener('click', function() { showSection('sites'); });
            container.querySelector('.nav-to-music').addEventListener('click', function() { showSection('music'); });
            container.querySelector('.nav-to-ai').addEventListener('click', function() { showSection('ai'); });
            container.querySelector('.nav-to-settings').addEventListener('click', function() { showSection('settings'); });
        }

        async function renderMovies(container) {
            container.innerHTML = 
                '<div class="section-header">' +
                    '<h2><i class="ri-movie-2-line"></i> Popular Movies</h2>' +
                    '<p class="section-desc">Click any movie to open in Cinema Mode with 6 streaming sources.</p>' +
                '</div>' +
                '<div class="cards-grid" id="itemsGrid">' +
                    '<div class="loading-container">' +
                        '<i class="ri-loader-4-line loading-spinner"></i>' +
                        '<p>Loading popular movies from TMDB...</p>' +
                    '</div>' +
                '</div>';
            
            await loadMovies();
        }

        async function renderTVShows(container) {
            container.innerHTML = 
                '<div class="section-header">' +
                    '<h2><i class="ri-tv-line"></i> Popular TV Shows</h2>' +
                    '<p class="section-desc">Click any show to watch episodes with 6 streaming sources.</p>' +
                '</div>' +
                '<div class="cards-grid" id="itemsGrid">' +
                    '<div class="loading-container">' +
                        '<i class="ri-loader-4-line loading-spinner"></i>' +
                        '<p>Loading popular TV shows from TMDB...</p>' +
                    '</div>' +
                '</div>';
            
            await loadTVShows();
        }

        function renderGames(container) {
            container.innerHTML = 
                '<div class="section-header">' +
                    '<h2><i class="ri-gamepad-line"></i> Games</h2>' +
                    '<p class="section-desc">Popular Unblocked Games (Some Work Will Fix Soon)</p>' +
                '</div>' +
                '<div class="cards-grid" id="gamesGrid"></div>';
            
            var grid = document.getElementById('gamesGrid');
            var html = '';
            
            CONFIG.games.forEach(function(game, index) {
                html += 
                    '<div class="content-card game-card-item" data-game-index="' + index + '">' +
                        '<div style="width: 100%; height: 260px; background: linear-gradient(135deg, var(--dark), var(--card-bg)); display: flex; align-items: center; justify-content: center; font-size: 64px; position: relative;">' +
                            '<i class="' + game.icon + '" style="color: var(--accent-green);"></i>' +
                            (game.popular ? '<div class="card-badge" style="position: absolute; top: 12px; right: 12px; background: linear-gradient(135deg, var(--accent-pink), var(--accent-purple));">POPULAR</div>' : '') +
                        '</div>' +
                        '<div class="card-info">' +
                            '<div class="card-title">' + game.name + '</div>' +
                            '<div class="card-meta">' +
                                '<span style="color: var(--accent-green);">' + game.category + '</span>' +
                                '<span><i class="ri-play-circle-line"></i> Play</span>' +
                            '</div>' +
                        '</div>' +
                    '</div>';
            });
            
            grid.innerHTML = html;
            
            // Add click handlers
            grid.querySelectorAll('.game-card-item').forEach(function(card) {
                card.addEventListener('click', function() {
                    var gameIndex = parseInt(this.dataset.gameIndex);
                    openGameModal(CONFIG.games[gameIndex]);
                });
            });
        }

        function openGameModal(game) {
            currentGame = game;
            currentItem = null;
            currentSite = null;
            
            var modal = document.getElementById('movieModal');
            modal.classList.add('active');
            
            // Hide source sidebar for games
            document.getElementById('sourceSidebar').style.display = 'none';
            
            document.getElementById('modalTitle').textContent = game.name;
            document.getElementById('modalPosterThumb').querySelector('img').src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="90"><rect fill="%2312121a" width="60" height="90"/><text x="50%" y="50%" font-size="30" fill="%2300ff88" text-anchor="middle" dominant-baseline="middle"><i class="' + game.icon + '"></i></text></svg>';
            
            document.getElementById('modalMeta').innerHTML = 
                '<span><i class="ri-gamepad-line"></i> ' + game.category + '</span>' +
                '<span><i class="ri-global-line"></i> Online Game</span>';
            
            var iframe = document.getElementById('playerFrame');
            var loader = document.getElementById('iframeLoader');
            
            loader.classList.add('active');
            iframe.src = game.url;
            
            setTimeout(function() {
                loader.classList.remove('active');
            }, 2000);
        }

        async function loadMovies() {
            try {
                var response = await fetch(
                    CONFIG.TMDB_BASE_URL + '/movie/popular?api_key=' + CONFIG.TMDB_API_KEY + '&page=1'
                );
                if (!response.ok) throw new Error('TMDB API error: ' + response.status);
                var data = await response.json();
                
                currentItems = data.results.map(function(movie) {
                    return {
                        id: movie.id,
                        title: movie.title,
                        year: movie.release_date ? movie.release_date.split('-')[0] : 'N/A',
                        rating: movie.vote_average.toFixed(1),
                        image: movie.poster_path ? CONFIG.TMDB_IMAGE_URL + '/w500' + movie.poster_path : null,
                        backdrop: movie.backdrop_path ? CONFIG.TMDB_IMAGE_URL + '/original' + movie.backdrop_path : null,
                        overview: movie.overview,
                        type: 'movie'
                    };
                });
                
                displayItems();
                updateStatus('active', currentItems.length + ' movies loaded');
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('itemsGrid').innerHTML = 
                    '<div class="error-container">' +
                        '<i class="ri-error-warning-line error-icon"></i>' +
                        '<p class="error-title">Failed to load movies</p>' +
                        '<p class="error-desc">Check your connection and try again.</p>' +
                    '</div>';
                updateStatus('error', 'Failed to load');
            }
        }

        async function loadTVShows() {
            try {
                var response = await fetch(
                    CONFIG.TMDB_BASE_URL + '/tv/popular?api_key=' + CONFIG.TMDB_API_KEY + '&page=1'
                );
                if (!response.ok) throw new Error('TMDB API error: ' + response.status);
                var data = await response.json();
                
                currentItems = data.results.map(function(show) {
                    return {
                        id: show.id,
                        title: show.name,
                        year: show.first_air_date ? show.first_air_date.split('-')[0] : 'N/A',
                        rating: show.vote_average.toFixed(1),
                        image: show.poster_path ? CONFIG.TMDB_IMAGE_URL + '/w500' + show.poster_path : null,
                        backdrop: show.backdrop_path ? CONFIG.TMDB_IMAGE_URL + '/original' + show.backdrop_path : null,
                        overview: show.overview,
                        type: 'tv'
                    };
                });
                
                displayItems();
                updateStatus('active', currentItems.length + ' shows loaded');
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('itemsGrid').innerHTML = 
                    '<div class="error-container">' +
                        '<i class="ri-error-warning-line error-icon"></i>' +
                        '<p class="error-title">Failed to load TV shows</p>' +
                        '<p class="error-desc">Check your connection and try again.</p>' +
                    '</div>';
                updateStatus('error', 'Failed to load');
            }
        }

        function displayItems() {
            var grid = document.getElementById('itemsGrid');
            var html = '';
            for (var i = 0; i < currentItems.length; i++) {
                var item = currentItems[i];
                var imgSrc = item.image || 'https://via.placeholder.com/250x400/12121a/00d4ff?text=' + encodeURIComponent(item.title);
                html += 
                    '<div class="content-card" data-item-id="' + item.id + '">' +
                        '<img src="' + imgSrc + '" class="card-image" alt="' + item.title + '" loading="lazy">' +
                        '<div class="card-badges">' +
                            '<div class="card-badge rating">★ ' + item.rating + '</div>' +
                            '<div class="card-badge bogge">Cinema</div>' +
                        '</div>' +
                        '<div class="card-info">' +
                            '<div class="card-title">' + item.title + '</div>' +
                            '<div class="card-meta">' +
                                '<span><i class="ri-calendar-line"></i> ' + item.year + '</span>' +
                                '<span><i class="ri-play-circle-line"></i> Watch</span>' +
                            '</div>' +
                        '</div>' +
                    '</div>';
            }
            grid.innerHTML = html;
            
            var cards = grid.querySelectorAll('.content-card');
            for (var j = 0; j < cards.length; j++) {
                (function(card) {
                    card.addEventListener('click', function() { 
                        openItemModal(parseInt(card.dataset.itemId)); 
                    });
                })(cards[j]);
            }
        }

        async function handleSearch(e) {
            if (e.key === 'Enter') {
                var query = document.getElementById('searchInput').value.trim();
                if (query) {
                    await performSearch(query);
                }
            }
        }

        async function performSearch(query) {
            isSearchResults = true;
            lastSearchQuery = query;
            
            if (currentSection !== 'movies' && currentSection !== 'tv') {
                currentSection = 'movies';
                currentType = 'movie';
            }

            var container = document.getElementById('contentArea');
            var typeLabel = currentType === 'movie' ? 'Movies' : 'TV Shows';
            var typeIcon = currentType === 'movie' ? 'ri-movie-2-line' : 'ri-tv-line';
            
            container.innerHTML = 
                '<div class="section-header">' +
                    '<h2><i class="' + typeIcon + '"></i> Search Results</h2>' +
                    '<div class="search-header">' +
                        '<p class="search-info">Searching for: <span>"' + escapeHtml(query) + '"</span></p>' +
                        '<button class="clear-search-btn" id="clearSearchBtn">' +
                            '<i class="ri-close-line"></i> Clear Search' +
                        '</button>' +
                    '</div>' +
                '</div>' +
                '<div class="cards-grid" id="itemsGrid">' +
                    '<div class="loading-container">' +
                        '<i class="ri-loader-4-line loading-spinner"></i>' +
                        '<p>Searching TMDB for ' + typeLabel.toLowerCase() + '...</p>' +
                    '</div>' +
                '</div>';

            document.getElementById('clearSearchBtn').addEventListener('click', function() {
                document.getElementById('searchInput').value = '';
                showSection(currentType === 'movie' ? 'movies' : 'tv');
            });

            try {
                var endpoint = currentType === 'movie' ? '/search/movie' : '/search/tv';
                var response = await fetch(
                    CONFIG.TMDB_BASE_URL + endpoint + '?api_key=' + CONFIG.TMDB_API_KEY + '&query=' + encodeURIComponent(query) + '&page=1'
                );
                if (!response.ok) throw new Error('Search failed: ' + response.status);
                var data = await response.json();
                
                if (data.results && data.results.length > 0) {
                    currentItems = data.results.map(function(item) {
                        var title = currentType === 'movie' ? item.title : item.name;
                        var date = currentType === 'movie' ? item.release_date : item.first_air_date;
                        return {
                            id: item.id,
                            title: title,
                            year: date ? date.split('-')[0] : 'N/A',
                            rating: item.vote_average ? item.vote_average.toFixed(1) : 'N/A',
                            image: item.poster_path ? CONFIG.TMDB_IMAGE_URL + '/w500' + item.poster_path : null,
                            backdrop: item.backdrop_path ? CONFIG.TMDB_IMAGE_URL + '/original' + item.backdrop_path : null,
                            overview: item.overview,
                            type: currentType
                        };
                    });
                    
                    displayItems();
                    updateStatus('active', 'Found ' + currentItems.length + ' results');
                    
                    var header = container.querySelector('.section-header h2');
                    header.innerHTML = '<i class="' + typeIcon + '"></i> Search Results (' + currentItems.length + ' found)';
                } else {
                    document.getElementById('itemsGrid').innerHTML = 
                        '<div class="error-container">' +
                            '<i class="ri-search-line error-icon" style="color: var(--accent-yellow);"></i>' +
                            '<p style="color: var(--text); font-weight: 600; margin-bottom: 8px;">No ' + typeLabel.toLowerCase() + ' found</p>' +
                            '<p>No results for "' + escapeHtml(query) + '". Try a different search term.</p>' +
                        '</div>';
                    updateStatus('active', 'No results');
                }
            } catch (error) {
                console.error('Search error:', error);
                document.getElementById('itemsGrid').innerHTML = 
                    '<div class="error-container">' +
                        '<i class="ri-error-warning-line error-icon"></i>' +
                        '<p style="color: var(--text); font-weight: 600; margin-bottom: 8px;">Search failed</p>' +
                        '<p>Could not search TMDB. Check your connection.</p>' +
                    '</div>';
                updateStatus('error', 'Search failed');
            }
        }

        function escapeHtml(text) {
            var div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        async function openItemModal(itemId) {
            currentItem = null;
            currentGame = null;
            currentSite = null;
            
            for (var i = 0; i < currentItems.length; i++) {
                if (currentItems[i].id === itemId) {
                    currentItem = currentItems[i];
                    break;
                }
            }
            
            if (!currentItem) return;
            
            currentSourceIndex = 0;
            
            var modal = document.getElementById('movieModal');
            modal.classList.add('active');
            
            // Show source sidebar for movies/tv
            document.getElementById('sourceSidebar').style.display = 'flex';
            
            document.getElementById('modalTitle').textContent = currentItem.title;
            document.getElementById('modalPosterThumb').querySelector('img').src = currentItem.image || 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';
            
            var typeLabel = currentItem.type === 'movie' ? 'Movie' : 'TV Series';
            var typeIcon = currentItem.type === 'movie' ? 'ri-movie-line' : 'ri-tv-line';
            
            document.getElementById('modalMeta').innerHTML = 
                '<span><i class="ri-calendar-line"></i> ' + currentItem.year + '</span>' +
                '<span><i class="ri-star-fill star-yellow"></i> ' + currentItem.rating + '/10</span>' +
                '<span><i class="' + typeIcon + '"></i> ' + typeLabel + '</span>';
            
            renderSourceList();
            
            // Fetch IMDB ID for AutoEmbed if needed
            if (currentItem.type === 'movie' || currentItem.type === 'tv') {
                try {
                    var response = await fetch(
                        CONFIG.TMDB_BASE_URL + '/' + currentItem.type + '/' + currentItem.id + '/external_ids?api_key=' + CONFIG.TMDB_API_KEY
                    );
                    var data = await response.json();
                    currentItem.imdb_id = data.imdb_id;
                    loadSource(0);
                } catch (e) {
                    loadSource(0);
                }
            } else {
                loadSource(0);
            }
        }

        function renderSourceList() {
            var list = document.getElementById('sourceList');
            var html = '';
            for (var i = 0; i < CONFIG.embedSources.length; i++) {
                var source = CONFIG.embedSources[i];
                html += 
                    '<div class="source-item ' + (i === currentSourceIndex ? 'active' : '') + '" data-source-index="' + i + '">' +
                        '<div class="source-name"><i class="' + source.icon + '"></i> ' + source.name + '</div>' +
                        '<div class="source-desc">' + source.description + '</div>' +
                    '</div>';
            }
            list.innerHTML = html;
            
            var items = list.querySelectorAll('.source-item');
            for (var j = 0; j < items.length; j++) {
                (function(item) {
                    item.addEventListener('click', function() { 
                        loadSource(parseInt(item.dataset.sourceIndex)); 
                    });
                })(items[j]);
            }
        }

        function loadSource(index) {
            currentSourceIndex = index;
            var source = CONFIG.embedSources[index];
            var iframe = document.getElementById('playerFrame');
            var loader = document.getElementById('iframeLoader');
            
            renderSourceList();
            
            loader.classList.add('active');
            
            var type = currentItem.type === 'movie' ? 'movie' : 'tv';
            var url;
            
            // Special handling for AutoEmbed which requires IMDB ID
            if (source.name === 'AutoEmbed' && currentItem.imdb_id) {
                url = source.url + type + '/' + currentItem.imdb_id;
            } else if (source.name === 'AutoEmbed' && !currentItem.imdb_id) {
                // Fallback to TMDB ID if IMDB not available
                url = source.url + 'tmdb/' + currentItem.id;
            } else {
                url = source.url + type + '/' + currentItem.id;
            }
            
            iframe.src = url;
            
            setTimeout(function() {
                loader.classList.remove('active');
            }, 2000);
        }

        function reloadPlayer() {
            if (currentGame) {
                var iframe = document.getElementById('playerFrame');
                var loader = document.getElementById('iframeLoader');
                loader.classList.add('active');
                iframe.src = currentGame.url;
                setTimeout(function() {
                    loader.classList.remove('active');
                }, 2000);
            } else if (currentSite) {
                var iframe = document.getElementById('playerFrame');
                var loader = document.getElementById('iframeLoader');
                loader.classList.add('active');
                iframe.src = currentSite.url;
                setTimeout(function() {
                    loader.classList.remove('active');
                }, 2000);
            } else if (currentItem) {
                loadSource(currentSourceIndex);
            }
        }

        function openInNewTab() {
            if (currentGame) {
                window.open(currentGame.url, '_blank');
            } else if (currentSite) {
                window.open(currentSite.url, '_blank');
            } else if (currentItem) {
                var source = CONFIG.embedSources[currentSourceIndex];
                var type = currentItem.type === 'movie' ? 'movie' : 'tv';
                var url;
                
                if (source.name === 'AutoEmbed' && currentItem.imdb_id) {
                    url = source.url + type + '/' + currentItem.imdb_id;
                } else if (source.name === 'AutoEmbed' && !currentItem.imdb_id) {
                    url = source.url + 'tmdb/' + currentItem.id;
                } else {
                    url = source.url + type + '/' + currentItem.id;
                }
                
                window.open(url, '_blank');
            }
        }

        function toggleFullscreen() {
            var iframe = document.getElementById('playerFrame');
            if (iframe.requestFullscreen) {
                iframe.requestFullscreen();
            } else if (iframe.webkitRequestFullscreen) {
                iframe.webkitRequestFullscreen();
            } else if (iframe.msRequestFullscreen) {
                iframe.msRequestFullscreen();
            }
        }

        function closeModal() {
            document.getElementById('movieModal').classList.remove('active');
            document.getElementById('playerFrame').src = 'about:blank';
            document.getElementById('sourceSidebar').style.display = 'flex';
            currentItem = null;
            currentGame = null;
            currentSite = null;
        }

        // Download Modal Functions
        function openDownloadModal() {
            document.getElementById('downloadModal').classList.add('active');
        }

        function closeDownloadModal() {
            document.getElementById('downloadModal').classList.remove('active');
        }

        // Auto download from GoFile - Opens in new tab due to API changes
        function autoDownloadFromGoFile() {
            // GoFile API now requires X-Website-Token header, so we open in new tab instead
            window.open(CONFIG.GOFILE_DOWNLOAD.url, '_blank');
            
            // Show feedback
            var btn = document.getElementById('autoDownloadBtn');
            var original = btn.innerHTML;
            btn.innerHTML = '<div class="download-icon"><i class="ri-check-line"></i></div><div class="download-info"><h3>Opened Download Page</h3><p>Check your new tab for the download</p></div>';
            btn.style.borderColor = 'var(--accent-green)';
            
            setTimeout(function() {
                btn.innerHTML = original;
                btn.style.borderColor = '';
            }, 3000);
        }

        // Download current page as HTML
        function downloadCurrentPage() {
            // Get the current HTML content
            var htmlContent = document.documentElement.outerHTML;
            
            // Create a clean version by removing the download modal and button
            var parser = new DOMParser();
            var doc = parser.parseFromString(htmlContent, 'text/html');
            
            // Remove download-related elements for the exported version
            var downloadBtn = doc.getElementById('downloadBtn');
            if (downloadBtn) downloadBtn.remove();
            
            var downloadModal = doc.getElementById('downloadModal');
            if (downloadModal) downloadModal.remove();
            
            // Remove secret modal
            var secretModal = doc.getElementById('secretModal');
            if (secretModal) secretModal.remove();
            
            // Update the HTML content
            var cleanHtml = '<!DOCTYPE html>\n' + doc.documentElement.outerHTML;
            
            // Create blob and download
            var blob = new Blob([cleanHtml], { type: 'text/html' });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = 'DropDead_V7.2.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // Show success feedback
            var btn = document.getElementById('downloadHtmlBtn');
            var original = btn.innerHTML;
            btn.innerHTML = '<div class="download-icon" style="background: var(--accent-green);"><i class="ri-check-line"></i></div><div class="download-info"><h3>Downloaded!</h3><p>File saved to your device</p></div>';
            
            setTimeout(function() {
                btn.innerHTML = original;
            }, 2000);
        }

        function createLink(title, url, description, note, isKnown) {
            note = note || '';
            var linkClass = isKnown ? 'link-card known-site' : 'link-card site-card';
            var clickHandler = isKnown ? 'onclick="window.open(\'' + url + '\', \'_blank\')"' : '';
            return '<div class="' + linkClass + '" data-url="' + url + '" data-title="' + title + '" ' + clickHandler + '>' +
                    '<div class="link-title">' + title + '</div>' +
                    '<div class="link-url">' + url + '</div>' +
                    (note ? '<div class="link-note"><i class="ri-error-warning-line"></i> ' + note + '</div>' : '') +
                    (isKnown ? '<div class="link-note" style="color: var(--accent-green);"><i class="ri-external-link-line"></i> Opens in new tab</div>' : '') +
                '</div>';
        }

        function createSubcategory(name) {
            return '<div class="subcategory"><i class="ri-folder-3-line"></i> ' + name + '</div>';
        }

        function renderSites(container) {
            var html = 
                '<div class="section-header">' +
                    '<h2><i class="ri-links-line"></i> All Game Sites</h2>' +
                    '<p class="section-desc">Unblocked Sites I Found For My School. Known sites open in new tabs, Unknown sites use stealth mode.</p>' +
                '</div>' +
                
                '<div class="category">' +
                    '<div class="category-header">' +
                        '<div class="category-icon"><i class="ri-gamepad-line cat-icon-white"></i></div>' +
                        '<h3>Popular Sites</h3>' +
                        '<span class="category-subtitle" style="color: var(--accent-green);">Open in new tab</span>' +
                    '</div>' +
                    '<div class="link-grid">' +
                        createLink('Now.gg', 'https://now.gg/', 'Cloud gaming platform', '', true) +
                        createLink('Poki', 'https://poki.com/', 'Browser games collection', '', true) +
                        createLink('The Pizza Edition', 'https://thepizzaedition-games.github.io/', 'Curated game collection', '', true) +
                        createLink('Crazy Games', 'https://www.crazygames.com/', 'Action & racing games', '', true) +
                        createLink('G+', 'https://sites.google.com/view/drive-u-7-home/home', 'Google Sites proxy', '', true) +
                    '</div>' +
                '</div>' +
                
                '<div class="category">' +
                    '<div class="category-header">' +
                        '<div class="category-icon cat-gradient-orange-red"><i class="ri-spy-line cat-icon-white"></i></div>' +
                        '<h3>UnKnown Sites</h3>' +
                        '<span class="category-subtitle">Stealth iframe mode</span>' +
                    '</div>' +
                    
                    createSubcategory('Galaxy V6') +
                    '<div class="link-grid">' +
                        createLink('Galaxy #1', 'https://cspcn.cspcn.pt/onboarding/', '', '', false) +
                        createLink('Galaxy #2', 'https://tracks.empleosonora.gob.mx/onboarding/', '', '', false) +
                        createLink('Galaxy #3', 'https://policies.osiadaczabogados.cl/onboarding/', '', '', false) +
                        createLink('Galaxy #4', 'https://camel.stjameskilolo.org/onboarding/', '', '', false) +
                        createLink('Galaxy #5', 'https://notes.keybusinessconnection.com/onboarding/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Quasar') +
                    '<div class="link-grid">' +
                        createLink('Quasar #1', 'https://harveyoaksbaptist.org/', '', '', false) +
                        createLink('Quasar #2', 'https://aifk29r89eieididjjejdo.chrisbaxmann.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Void Network') +
                    '<div class="link-grid">' +
                        createLink('Void Network V5 #1', 'https://vcsa.void.apertura.com/', '', '', false) +
                        createLink('Void Network V5 #2', 'https://playernation.wanhuiarchitect.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Ghost') +
                    '<div class="link-grid">' +
                        createLink('Ghost', 'https://need.helpforukraine.at/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Fern') +
                    '<div class="link-grid">' +
                        createLink('Fern', 'https://canvasbackpackstore.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Frogies Arcade V4') +
                    '<div class="link-grid">' +
                        createLink('Frogies Arcade V4', 'https://larp.now/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Axiom') +
                    '<div class="link-grid">' +
                        createLink('Axiom #1', 'https://brisk.bisblick.org/', '', '', false) +
                        createLink('Axiom #2', 'https://learningvcsa.fhoster.ru/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Selenite') +
                    '<div class="link-grid">' +
                        createLink('Selenite', 'https://vcsa.churchinhuntsville.org/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('HypeStudy (Damn thats a lot)') +
                    '<div class="link-grid">' +
                        createLink('HypeStudy #1', 'https://english.jobvn.com/', '', '', false) +
                        createLink('HypeStudy #2', 'https://boeing.robbinsaviation.com/', '', '', false) +
                        createLink('HypeStudy #3', 'https://education-learning.tovamiasto.com/', '', '', false) +
                        createLink('HypeStudy #4', 'https://sciencepark.cc/', '', '', false) +
                        createLink('HypeStudy #5', 'https://fulcrumtheatreinc.com/', '', '', false) +
                        createLink('HypeStudy #6', 'https://info.hotelsunrisegrand.com/', '', '', false) +
                        createLink('HypeStudy #7', 'https://info.shop1stoponline.com/', '', '', false) +
                        createLink('HypeStudy #8', 'https://studywith-vcsa.ploteando.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory("Bigfoot's Game Shack") +
                    '<div class="link-grid">' +
                        createLink("Bigfoot Link", 'https://idyllic-choux-ce6d8a.netlify.app/g/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Demon') +
                    '<div class="link-grid">' +
                        createLink('Demon', 'https://learn.turbo-education.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Saturn') +
                    '<div class="link-grid">' +
                        createLink('Saturn #1', 'https://lightspeedisass.graphicon.org/', '', '', false) +
                        createLink('Saturn #2', 'https://blackpilmethodsarethegoat.graphicon.org/', '', '', false) +
                        createLink('Saturn #3', 'https://61inthebig21.polezen.bg/', '', '', false) +
                        createLink('Saturn #4', 'https://january2026.smasesorias.cl/', '', '', false) +
                        createLink('Saturn #5', 'https://morelinks.smasesorias.cl/', '', '', false) +
                        createLink('Saturn #6', 'https://cheesyballsnohomo.smasesorias.cl/', '', '', false) +
                        createLink('Saturn #7', 'https://gogaurdian.eminescusm.ro/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Dogeub') +
                    '<div class="link-grid">' +
                        createLink('Dogeub', 'https://jeanndunn.rdocart.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Reds Exploit Center') +
                    '<div class="link-grid">' +
                        createLink('Reds #1', 'https://zapscroll.sbs/', '', '', false) +
                        createLink('Reds #2', 'https://rs.gmsgroup.app/', '', '', false) +
                        createLink('Now.gg Mirror', 'https://nowgg.fun/apps/uncube/7074/now.html', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Macro Games') +
                    '<div class="link-grid">' +
                        createLink('Macro Games', 'https://games.macrolorblx.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Utopia') +
                    '<div class="link-grid">' +
                        createLink('Utopia #1', 'https://field.school.embeddedonline.org/', '', '', false) +
                        createLink('Utopia #2', 'https://debate.brain.maniel.one.pl/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('DayDream') +
                    '<div class="link-grid">' +
                        createLink('DayDream #1', 'https://dreams.centromariapolis.cl/', '', '', false) +
                        createLink('DayDream #2', 'https://daydreaming.realisation.org/', '', '', false) +
                        createLink('DayDream #3', 'https://daydreaming.env.pm/', '', '', false) +
                        createLink('DayDream #4', 'https://blog.artweb.website.cdn.cloudflare.net/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('NautilusOS') +
                    '<div class="link-grid">' +
                        createLink('NautilusOS', 'https://nautilus-os.vercel.app/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory("Jordan's Math Work V7") +
                    '<div class="link-grid">' +
                        createLink("Jordan's Math Work", 'https://jmw.grandemass.tokeslaszlo.ro/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Xin Chao') +
                    '<div class="link-grid">' +
                        createLink('Xin Chao #1', 'https://kaw.edujose.org/', '', '', false) +
                        createLink('Xin Chao #2', 'https://learn.litesa.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Boredom V2') +
                    '<div class="link-grid">' +
                        createLink('Boredom #1', 'https://get.hotelconsuladoinn.com/', '', '', false) +
                        createLink('Boredom #2', 'https://vcsa.national-birdshow.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Overcloaked') +
                    '<div class="link-grid">' +
                        createLink('Overcloaked #1', 'https://lecturer.assignment.hybrid.dormitory.portal.felixrotaru.com/', '', '', false) +
                        createLink('Overcloaked #2', 'https://funlearning.gatewaysuppliers.com.np/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Shuttle') +
                    '<div class="link-grid">' +
                        createLink('Shuttle #1', 'http://classroomlearning.maxmirgidro.ru/', '', '', false) +
                        createLink('Shuttle #2', 'http://wikipedialist.wikidelia.net/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Lunar') +
                    '<div class="link-grid">' +
                        createLink('Lunar', 'https://testing.suwal.com.np/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Truffled') +
                    '<div class="link-grid">' +
                        createLink('Truffled #1', 'https://hi.bergbahnen-bezau.at/', '', '', false) +
                        createLink('Truffled #2', 'https://computer.gryk.de/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Classroom 6X') +
                    '<div class="link-grid">' +
                        createLink('Classroom 6X', 'https://sites.google.com/view/classroom6x/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Kazwire') +
                    '<div class="link-grid">' +
                        createLink('Kazwire #1', 'https://history.lodgegomantak.org/', '', '', false) +
                        createLink('Kazwire #2', 'https://art.lexvoip.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Big Mac Heros') +
                    '<div class="link-grid">' +
                        createLink('Big Mac Heros', 'https://d2edvleactrkkb.cloudfront.net/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Roblox Unblocker') +
                    '<div class="link-grid">' +
                        createLink('Roblox #1', 'https://hotkitchenbag.com/', '', '', false) +
                        createLink('Roblox #2', 'https://websitesbridge.com/', '', '', false) +
                        createLink('Roblox #3', 'https://nowgg.co/play/roblox-corporation/5349/roblox', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('WebLFG') +
                    '<div class="link-grid">' +
                        createLink('WebLFG #1', 'https://weblfg.onrender.com/', '', '', false) +
                        createLink('WebLFG #2', 'https://biochemistry.onrender.com/', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Noodle Activities') +
                    '<div class="link-grid">' +
                        createLink('Noodle #1', 'https://googleclassroom.netlify.app/activities', '', '', false) +
                        createLink('Noodle #2', 'https://billnye.netlify.app/activities', '', '', false) +
                        createLink('Noodle #3', 'https://earnest-tarsier-3c02d1.netlify.app/activities', '', '', false) +
                    '</div>' +
                    
                    createSubcategory('Lioxryt') +
                    '<div class="link-grid">' +
                        createLink('Lioxryt', 'https://lioxrytbackup.netlify.app/', '', '', false) +
                    '</div>' +
                '</div>' +
                
                '<div class="category">' +
                    '<div class="category-header">' +
                        '<div class="category-icon cat-gradient-purple-pink"><i class="ri-archive-line cat-icon-white"></i></div>' +
                        '<h3>Game Archives</h3>' +
                    '</div>' +
                    '<div class="link-grid">' +
                        createLink('Wolf Unblock', 'https://sites.google.com/view/wolfunblock/home', '', '', false) +
                        createLink('Pizza Edition Archive', 'https://sites.google.com/view/pizzaedition/home', '', '', false) +
                        createLink('Triple The Potatoes', 'https://sites.google.com/view/tripplethepotatoes/home', '', '', false) +
                        createLink('Lots O Games', 'https://sites.google.com/view/lotsogames/home', '', '', false) +
                    '</div>' +
                '</div>';
            
            container.innerHTML = html;
            
            // Add click handlers for site cards (unknown sites only)
            container.querySelectorAll('.site-card').forEach(function(card) {
                card.addEventListener('click', function() {
                    var url = this.dataset.url;
                    var title = this.dataset.title;
                    openSiteInStealthMode(url, title);
                });
            });
        }

        function openSiteInStealthMode(url, title) {
            currentSite = { url: url, title: title };
            currentItem = null;
            currentGame = null;
            
            var modal = document.getElementById('movieModal');
            modal.classList.add('active');
            
            // Hide source sidebar for sites
            document.getElementById('sourceSidebar').style.display = 'none';
            
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalPosterThumb').querySelector('img').src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="90"><rect fill="%2312121a" width="60" height="90"/><text x="50%" y="50%" font-size="24" fill="%2300d4ff" text-anchor="middle" dominant-baseline="middle">🌐</text></svg>';
            
            document.getElementById('modalMeta').innerHTML = 
                '<span><i class="ri-links-line"></i> Proxy Site</span>' +
                '<span><i class="ri-shield-check-line"></i> Stealth Mode</span>';
            
            var iframe = document.getElementById('playerFrame');
            var loader = document.getElementById('iframeLoader');
            
            loader.classList.add('active');
            
            // Create about:blank page with the site embedded
            var blankPageContent = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>about:blank</title>
                    <style>
                        * { margin: 0; padding: 0; box-sizing: border-box; }
                        body { 
                            width: 100vw; 
                            height: 100vh; 
                            overflow: hidden;
                            background: #0f0f1a;
                        }
                        iframe {
                            width: 100%;
                            height: 100%;
                            border: none;
                        }
                        .loading {
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            color: #00d4ff;
                            font-family: sans-serif;
                            font-size: 18px;
                        }
                    </style>
                </head>
                <body>
                    <div class="loading" id="loading">Loading site...</div>
                    <iframe src="${url}" sandbox="allow-scripts allow-same-origin allow-popups allow-forms" onload="document.getElementById('loading').style.display='none'"></iframe>
                </body>
                </html>
            `;
            
            var blob = new Blob([blankPageContent], { type: 'text/html' });
            var blobUrl = URL.createObjectURL(blob);
            
            iframe.src = blobUrl;
            
            setTimeout(function() {
                loader.classList.remove('active');
            }, 2000);
        }

        function renderMusic(container) {
            container.innerHTML = 
                '<div class="section-header">' +
                    '<h2><i class="ri-music-2-line"></i> Music Player</h2>' +
                    '<p class="section-desc">Built-in music player (Under Constuction.)</p>' +
                '</div>' +
                
                '<div class="music-player-container">' +
                    '<div class="music-player-header">' +
                        '<div class="music-player-art">' +
                            '<i class="ri-album-fill"></i>' +
                        '</div>' +
                        '<div class="music-player-info">' +
                            '<h3 id="currentTrackTitle">Select a track</h3>' +
                            '<p id="currentTrackArtist">Drop Dead Music Player</p>' +
                            '<div class="music-player-controls">' +
                                '<button class="music-control-btn" onclick="playPrevTrack()"><i class="ri-skip-back-fill"></i></button>' +
                                '<button class="music-control-btn play" onclick="togglePlay()"><i class="ri-play-fill"></i></button>' +
                                '<button class="music-control-btn" onclick="playNextTrack()"><i class="ri-skip-forward-fill"></i></button>' +
                            '</div>' +
                        '</div>' +
                    '</div>' +
                    '<div class="music-player-body">' +
                        '<div class="music-progress-container">' +
                            '<div class="music-progress-bar" id="progressBar">' +
                                '<div class="music-progress-fill" id="progressFill"></div>' +
                                '<div class="music-progress-handle" id="progressHandle"></div>' +
                            '</div>' +
                            '<div class="music-time">' +
                                '<span id="currentTime">0:00</span>' +
                                '<span id="totalTime">0:00</span>' +
                            '</div>' +
                        '</div>' +
                        '<div class="music-volume-container">' +
                            '<i class="ri-volume-down-line"></i>' +
                            '<div class="music-volume-slider" id="volumeSlider">' +
                                '<div class="music-volume-fill" id="volumeFill"></div>' +
                            '</div>' +
                            '<i class="ri-volume-up-line"></i>' +
                        '</div>' +
                        '<div class="music-search-box">' +
                            '<input type="text" class="music-search-input" id="musicSearchInput" placeholder="Search for songs, artists...">' +
                            '<button class="music-search-btn" onclick="searchMusic(document.getElementById(\'musicSearchInput\').value)">' +
                                '<i class="ri-search-line"></i> Search' +
                            '</button>' +
                        '</div>' +
                        '<div class="music-playlist" id="musicPlaylist"></div>' +
                    '</div>' +
                '</div>';
            
            renderMusicPlaylist();
            
            // Add event listeners for progress bar and volume
            setTimeout(() => {
                const progressBar = document.getElementById('progressBar');
                const volumeSlider = document.getElementById('volumeSlider');
                
                if (progressBar) {
                    progressBar.addEventListener('click', function(e) {
                        const rect = this.getBoundingClientRect();
                        const percent = (e.clientX - rect.left) / rect.width;
                        if (youtubePlayer && youtubePlayer.seekTo) {
                            const duration = youtubePlayer.getDuration();
                            youtubePlayer.seekTo(duration * percent, true);
                        }
                    });
                }
                
                if (volumeSlider) {
                    volumeSlider.addEventListener('click', function(e) {
                        const rect = this.getBoundingClientRect();
                        const percent = (e.clientX - rect.left) / rect.width;
                        document.getElementById('volumeFill').style.width = (percent * 100) + '%';
                        if (youtubePlayer && youtubePlayer.setVolume) {
                            youtubePlayer.setVolume(percent * 100);
                        }
                    });
                }
                
                // Update progress bar
                setInterval(() => {
                    if (youtubePlayer && youtubePlayer.getCurrentTime && isPlaying) {
                        const current = youtubePlayer.getCurrentTime();
                        const duration = youtubePlayer.getDuration();
                        if (duration > 0) {
                            const percent = (current / duration) * 100;
                            document.getElementById('progressFill').style.width = percent + '%';
                            document.getElementById('progressHandle').style.left = percent + '%';
                            document.getElementById('currentTime').textContent = formatTime(current);
                            document.getElementById('totalTime').textContent = formatTime(duration);
                        }
                    }
                }, 1000);
            }, 100);
        }

        function formatTime(seconds) {
            if (!seconds || isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return mins + ':' + (secs < 10 ? '0' : '') + secs;
        }

        function renderMusicPlaylist() {
            const playlist = document.getElementById('musicPlaylist');
            if (!playlist) return;
            
            let html = '';
            currentPlaylist.forEach((track, index) => {
                html += `
                    <div class="music-track ${index === currentTrackIndex ? 'active' : ''}" onclick="playTrack(${index})">
                        <div class="music-track-number">${index + 1}</div>
                        <div class="music-track-info">
                            <div class="music-track-title">${track.title}</div>
                            <div class="music-track-artist">${track.artist}</div>
                        </div>
                        <div class="music-track-duration">${track.duration}</div>
                        <div class="music-track-play">
                            <i class="${index === currentTrackIndex && isPlaying ? 'ri-pause-fill' : 'ri-play-fill'}"></i>
                        </div>
                    </div>
                `;
            });
            playlist.innerHTML = html;
        }

        function createAICard(title, url) {
            return '<a class="ai-card" href="' + url + '" target="_blank" rel="noopener noreferrer">' +
                    '<div class="ai-title"><i class="ri-robot-2-line"></i> ' + title + '</div>' +
                    '<div class="ai-url">' + url + '</div>' +
                '</a>';
        }

        function renderAI(container) {
            container.innerHTML = 
                '<div class="section-header">' +
                    '<h2><i class="ri-brain-line"></i> AI Cheating 101</h2>' +
                    '<p class="section-desc">AI tools and humanizers.</p>' +
                '</div>' +
                
                '<div class="category">' +
                    '<div class="category-header">' +
                        '<div class="category-icon" style="background: linear-gradient(135deg, #00ff88, #00d4ff);"><i class="ri-robot-line cat-icon-white"></i></div>' +
                        '<h3>AI Tools</h3>' +
                    '</div>' +
                    '<div class="ai-grid">' +
                        createAICard('Kimi', 'https://www.kimi.com/') +
                        createAICard('ChatGPT', 'https://chatgpt.com/') +
                        createAICard('Perplexity', 'https://www.perplexity.ai/') +
                        createAICard('Claude', 'https://claude.ai/login') +
                        createAICard('Gemini', 'https://gemini.google.com/') +
                        createAICard('Poe', 'https://poe.com/login?redirect_url=%2F') +
                        createAICard('Photomath', 'https://photomath.com/') +
                        createAICard('Mathway', 'https://www.mathway.com/Algebra') +
                        createAICard('Symbolab', 'https://www.symbolab.com/') +
                        createAICard('Chegg', 'https://www.chegg.com/') +
                        createAICard('Course Hero', 'https://www.coursehero.com/') +
                        createAICard('Brainly', 'https://brainly.com/') +
                        createAICard('Wolfram Alpha', 'https://www.wolframalpha.com/') +
                    '</div>' +
                '</div>' +
                
                '<div class="category">' +
                    '<div class="category-header">' +
                        '<div class="category-icon" style="background: linear-gradient(135deg, #ff6b9d, #c77dff);"><i class="ri-shield-user-line cat-icon-white"></i></div>' +
                        '<h3>Humanizers</h3>' +
                    '</div>' +
                    '<div class="ai-grid">' +
                        createAICard('Rewritify', 'https://rewritify.ai/') +
                        createAICard('Humanize AI', 'https://humanize.ai/') +
                        createAICard('HumanizeAI.com', 'https://humanizeai.com/') +
                        createAICard('HumanizeAI Pro', 'https://www.humanizeai.pro/') +
                        createAICard('AI Humanize', 'https://aihumanize.io/') +
                        createAICard('Grammarly AI Humanizer', 'https://www.grammarly.com/ai-humanizer') +
                        createAICard('HumanizeAI.io', 'https://www.humanizeai.io/') +
                        createAICard('GPT Human', 'https://gpthuman.ai/') +
                        createAICard('Un AI My Text', 'https://unaimytext.com/') +
                        createAICard('Stealth Writer', 'https://stealthwriter.ai/') +
                        createAICard('Undetectable AI Pro', 'https://www.undetectableai.pro/') +
                        createAICard('Undetectable AI', 'https://undetectable.ai/ai-humanizer') +
                        createAICard('My Detector AI', 'https://mydetector.ai/ai-humanizer/') +
                        createAICard('Walter Writes', 'https://walterwrites.ai/') +
                    '</div>' +
                '</div>';
        }

        function updateStatus(type, message) {
            var status = document.getElementById('apiStatus');
            status.innerHTML = '<i class="ri-' + (type === 'active' ? 'wifi' : 'loader-4-line') + '"></i><span>' + message + '</span>';
        }

        window.onbeforeunload = function() {
            if (document.getElementById('movieModal').classList.contains('active')) {
                return "A movie is playing. Are you sure you want to leave?";
            }
        };
    </script>
</body>
</html>
